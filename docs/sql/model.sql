-- MySQL Script generated by MySQL Workbench
-- Mon Apr 30 15:17:47 2018
-- Model: New Model    Version: 1.0
-- MySQL Workbench Forward Engineering

SET @OLD_UNIQUE_CHECKS=@@UNIQUE_CHECKS, UNIQUE_CHECKS=0;
SET @OLD_FOREIGN_KEY_CHECKS=@@FOREIGN_KEY_CHECKS, FOREIGN_KEY_CHECKS=0;
SET @OLD_SQL_MODE=@@SQL_MODE, SQL_MODE='TRADITIONAL,ALLOW_INVALID_DATES';

-- -----------------------------------------------------
-- Schema GESTION_FACTORIA
-- -----------------------------------------------------
DROP SCHEMA IF EXISTS `GESTION_FACTORIA` ;

-- -----------------------------------------------------
-- Schema GESTION_FACTORIA
-- -----------------------------------------------------
CREATE SCHEMA IF NOT EXISTS `GESTION_FACTORIA` DEFAULT CHARACTER SET utf8 ;
USE `GESTION_FACTORIA` ;

-- -----------------------------------------------------
-- Table `GESTION_FACTORIA`.`THGE030_AREA`
-- -----------------------------------------------------
DROP TABLE IF EXISTS `GESTION_FACTORIA`.`THGE030_AREA` ;

CREATE TABLE IF NOT EXISTS `GESTION_FACTORIA`.`THGE030_AREA` (
  `CD_AREA` INT(4) NOT NULL AUTO_INCREMENT,
  `NB_AREA` VARCHAR(50) NOT NULL,
  PRIMARY KEY (`CD_AREA`),
  UNIQUE INDEX `NB_AREA_UNIQUE` (`NB_AREA` ASC))
ENGINE = InnoDB;


-- -----------------------------------------------------
-- Table `GESTION_FACTORIA`.`THGE001_TIPO_SERV`
-- -----------------------------------------------------
DROP TABLE IF EXISTS `GESTION_FACTORIA`.`THGE001_TIPO_SERV` ;

CREATE TABLE IF NOT EXISTS `GESTION_FACTORIA`.`THGE001_TIPO_SERV` (
  `CD_TIPO_SERVICIO` INT(4) NOT NULL AUTO_INCREMENT,
  `NB_TIPO_SERVICIO` VARCHAR(50) NOT NULL,
  `CD_AREA` INT(4) NOT NULL,
  PRIMARY KEY (`CD_TIPO_SERVICIO`),
  UNIQUE INDEX `NB_TIPO_SERVICIO_UNIQUE` (`NB_TIPO_SERVICIO` ASC),
  INDEX `R0010301_idx` (`CD_AREA` ASC),
  CONSTRAINT `R0010301`
    FOREIGN KEY (`CD_AREA`)
    REFERENCES `GESTION_FACTORIA`.`THGE030_AREA` (`CD_AREA`)
    ON DELETE NO ACTION
    ON UPDATE NO ACTION)
ENGINE = InnoDB;


-- -----------------------------------------------------
-- Table `GESTION_FACTORIA`.`THGE002_TECNOLOGIA`
-- -----------------------------------------------------
DROP TABLE IF EXISTS `GESTION_FACTORIA`.`THGE002_TECNOLOGIA` ;

CREATE TABLE IF NOT EXISTS `GESTION_FACTORIA`.`THGE002_TECNOLOGIA` (
  `CD_TECNOLOGIA` INT(4) NOT NULL AUTO_INCREMENT,
  `NB_TECNOLOGIA` VARCHAR(25) NOT NULL,
  PRIMARY KEY (`CD_TECNOLOGIA`),
  UNIQUE INDEX `NB_TECNOLOGIA_UNIQUE` (`NB_TECNOLOGIA` ASC))
ENGINE = InnoDB;


-- -----------------------------------------------------
-- Table `GESTION_FACTORIA`.`THGE008_TIPO_EDO`
-- -----------------------------------------------------
DROP TABLE IF EXISTS `GESTION_FACTORIA`.`THGE008_TIPO_EDO` ;

CREATE TABLE IF NOT EXISTS `GESTION_FACTORIA`.`THGE008_TIPO_EDO` (
  `CD_TIPO_EDO` INT(4) NOT NULL AUTO_INCREMENT,
  `NB_TIPO_EDO` VARCHAR(50) NOT NULL,
  PRIMARY KEY (`CD_TIPO_EDO`),
  UNIQUE INDEX `NB_TIPO_EDO_UNIQUE` (`NB_TIPO_EDO` ASC))
ENGINE = InnoDB;


-- -----------------------------------------------------
-- Table `GESTION_FACTORIA`.`THGE005_ESTADO`
-- -----------------------------------------------------
DROP TABLE IF EXISTS `GESTION_FACTORIA`.`THGE005_ESTADO` ;

CREATE TABLE IF NOT EXISTS `GESTION_FACTORIA`.`THGE005_ESTADO` (
  `CD_ESTADO` INT(4) NOT NULL AUTO_INCREMENT,
  `NB_ESTADO` VARCHAR(50) NOT NULL,
  `CD_TIPO_EDO` INT(4) NOT NULL,
  PRIMARY KEY (`CD_ESTADO`),
  INDEX `R0050081_idx` (`CD_TIPO_EDO` ASC),
  CONSTRAINT `R0050081`
    FOREIGN KEY (`CD_TIPO_EDO`)
    REFERENCES `GESTION_FACTORIA`.`THGE008_TIPO_EDO` (`CD_TIPO_EDO`)
    ON DELETE NO ACTION
    ON UPDATE NO ACTION)
ENGINE = InnoDB;


-- -----------------------------------------------------
-- Table `GESTION_FACTORIA`.`THGE003_EMPRESA`
-- -----------------------------------------------------
DROP TABLE IF EXISTS `GESTION_FACTORIA`.`THGE003_EMPRESA` ;

CREATE TABLE IF NOT EXISTS `GESTION_FACTORIA`.`THGE003_EMPRESA` (
  `CD_EMPRESA` INT NOT NULL AUTO_INCREMENT,
  `NB_COMERC_EMPRESA` VARCHAR(45) NOT NULL,
  `NB_RAZON_SOC_EMP` VARCHAR(150) NOT NULL,
  `NU_PROVEEDOR` CHAR(6) NOT NULL,
  `ST_EMPRESA` INT(4) NOT NULL,
  PRIMARY KEY (`CD_EMPRESA`),
  INDEX `R0030051_idx` (`ST_EMPRESA` ASC),
  CONSTRAINT `R0030051`
    FOREIGN KEY (`ST_EMPRESA`)
    REFERENCES `GESTION_FACTORIA`.`THGE005_ESTADO` (`CD_ESTADO`)
    ON DELETE NO ACTION
    ON UPDATE NO ACTION)
ENGINE = InnoDB;


-- -----------------------------------------------------
-- Table `GESTION_FACTORIA`.`THGE004_TIPO_NIVEL`
-- -----------------------------------------------------
DROP TABLE IF EXISTS `GESTION_FACTORIA`.`THGE004_TIPO_NIVEL` ;

CREATE TABLE IF NOT EXISTS `GESTION_FACTORIA`.`THGE004_TIPO_NIVEL` (
  `CD_TIPO_NIVEL` INT(4) NOT NULL AUTO_INCREMENT,
  `NB_TIPO_NIVEL` VARCHAR(50) NOT NULL,
  PRIMARY KEY (`CD_TIPO_NIVEL`),
  UNIQUE INDEX `NB_TIPO_NIVEL_UNIQUE` (`NB_TIPO_NIVEL` ASC))
ENGINE = InnoDB;


-- -----------------------------------------------------
-- Table `GESTION_FACTORIA`.`THGE018_PRODUCTO`
-- -----------------------------------------------------
DROP TABLE IF EXISTS `GESTION_FACTORIA`.`THGE018_PRODUCTO` ;

CREATE TABLE IF NOT EXISTS `GESTION_FACTORIA`.`THGE018_PRODUCTO` (
  `CD_PRODUCTO` CHAR(3) NOT NULL,
  `NB_PRODUCTO` VARCHAR(50) NOT NULL,
  `CD_TECNOLOGIA` INT(4) NOT NULL,
  PRIMARY KEY (`CD_PRODUCTO`),
  INDEX `R0180021_idx` (`CD_TECNOLOGIA` ASC),
  CONSTRAINT `R0180021`
    FOREIGN KEY (`CD_TECNOLOGIA`)
    REFERENCES `GESTION_FACTORIA`.`THGE002_TECNOLOGIA` (`CD_TECNOLOGIA`)
    ON DELETE NO ACTION
    ON UPDATE NO ACTION)
ENGINE = InnoDB;


-- -----------------------------------------------------
-- Table `GESTION_FACTORIA`.`THGE006_TIPOLOGIA`
-- -----------------------------------------------------
DROP TABLE IF EXISTS `GESTION_FACTORIA`.`THGE006_TIPOLOGIA` ;

CREATE TABLE IF NOT EXISTS `GESTION_FACTORIA`.`THGE006_TIPOLOGIA` (
  `CD_TIPOLOGIA` INT(4) NOT NULL AUTO_INCREMENT,
  `TP_COMPONENTE` TINYINT(1) NOT NULL,
  `NU_DIFICULTAD` CHAR(1) NOT NULL,
  `NU_HM_DIFICULTAD` FLOAT NULL,
  `FH_INIC_VIGENCIA` DATETIME NULL,
  `FH_FIN_VIGENCIA` DATE NULL,
  `CD_PRODUCTO` CHAR(3) NOT NULL,
  `ST_ESTADO` INT(4) NOT NULL,
  PRIMARY KEY (`CD_TIPOLOGIA`),
  INDEX `R0060051_idx` (`ST_ESTADO` ASC),
  INDEX `R0060021_idx` (`CD_PRODUCTO` ASC),
  CONSTRAINT `R0060052`
    FOREIGN KEY (`ST_ESTADO`)
    REFERENCES `GESTION_FACTORIA`.`THGE005_ESTADO` (`CD_ESTADO`)
    ON DELETE NO ACTION
    ON UPDATE NO ACTION,
  CONSTRAINT `R0060021`
    FOREIGN KEY (`CD_PRODUCTO`)
    REFERENCES `GESTION_FACTORIA`.`THGE018_PRODUCTO` (`CD_PRODUCTO`)
    ON DELETE NO ACTION
    ON UPDATE NO ACTION)
ENGINE = InnoDB;


-- -----------------------------------------------------
-- Table `GESTION_FACTORIA`.`THGE034_BANCA`
-- -----------------------------------------------------
DROP TABLE IF EXISTS `GESTION_FACTORIA`.`THGE034_BANCA` ;

CREATE TABLE IF NOT EXISTS `GESTION_FACTORIA`.`THGE034_BANCA` (
  `CD_BANCA` INT(4) NOT NULL AUTO_INCREMENT,
  `NB_BANCA` VARCHAR(50) NOT NULL,
  PRIMARY KEY (`CD_BANCA`),
  UNIQUE INDEX `NB_BANCA_UNIQUE` (`NB_BANCA` ASC))
ENGINE = InnoDB;


-- -----------------------------------------------------
-- Table `GESTION_FACTORIA`.`THGE016_PERF_USU`
-- -----------------------------------------------------
DROP TABLE IF EXISTS `GESTION_FACTORIA`.`THGE016_PERF_USU` ;

CREATE TABLE IF NOT EXISTS `GESTION_FACTORIA`.`THGE016_PERF_USU` (
  `CD_TIPO_PERFIL` INT(4) NOT NULL AUTO_INCREMENT,
  `NB_PERFIL` VARCHAR(25) NOT NULL,
  PRIMARY KEY (`CD_TIPO_PERFIL`),
  UNIQUE INDEX `NB_PERFIL_UNIQUE` (`NB_PERFIL` ASC))
ENGINE = InnoDB;


-- -----------------------------------------------------
-- Table `GESTION_FACTORIA`.`THGE011_USUARIO`
-- -----------------------------------------------------
DROP TABLE IF EXISTS `GESTION_FACTORIA`.`THGE011_USUARIO` ;

CREATE TABLE IF NOT EXISTS `GESTION_FACTORIA`.`THGE011_USUARIO` (
  `CD_USUARIO_CORP` VARCHAR(10) NOT NULL,
  `CD_PERF_USU` INT(4) NULL,
  `ST_USUARIO` INT(4) NULL,
  UNIQUE INDEX `CD_USUARIO_CORP_UNIQUE` (`CD_USUARIO_CORP` ASC),
  INDEX `R0110052_idx` (`ST_USUARIO` ASC),
  PRIMARY KEY (`CD_USUARIO_CORP`),
  INDEX `R0110161_idx` (`CD_PERF_USU` ASC),
  CONSTRAINT `R0110161`
    FOREIGN KEY (`CD_PERF_USU`)
    REFERENCES `GESTION_FACTORIA`.`THGE016_PERF_USU` (`CD_TIPO_PERFIL`)
    ON DELETE NO ACTION
    ON UPDATE NO ACTION,
  CONSTRAINT `R0110052`
    FOREIGN KEY (`ST_USUARIO`)
    REFERENCES `GESTION_FACTORIA`.`THGE005_ESTADO` (`CD_ESTADO`)
    ON DELETE NO ACTION
    ON UPDATE NO ACTION)
ENGINE = InnoDB;


-- -----------------------------------------------------
-- Table `GESTION_FACTORIA`.`THGE037_ENTIDAD`
-- -----------------------------------------------------
DROP TABLE IF EXISTS `GESTION_FACTORIA`.`THGE037_ENTIDAD` ;

CREATE TABLE IF NOT EXISTS `GESTION_FACTORIA`.`THGE037_ENTIDAD` (
  `CD_ENTIDAD` INT(4) NOT NULL AUTO_INCREMENT,
  `NB_ENTIDAD` VARCHAR(25) NOT NULL,
  PRIMARY KEY (`CD_ENTIDAD`),
  UNIQUE INDEX `NB_ENTIDAD_UNIQUE` (`NB_ENTIDAD` ASC))
ENGINE = InnoDB;


-- -----------------------------------------------------
-- Table `GESTION_FACTORIA`.`THGE038_NATURALEZA`
-- -----------------------------------------------------
DROP TABLE IF EXISTS `GESTION_FACTORIA`.`THGE038_NATURALEZA` ;

CREATE TABLE IF NOT EXISTS `GESTION_FACTORIA`.`THGE038_NATURALEZA` (
  `CD_NATURALEZA` INT(4) NOT NULL AUTO_INCREMENT,
  `NB_NATURALEZA` VARCHAR(25) NOT NULL,
  PRIMARY KEY (`CD_NATURALEZA`),
  UNIQUE INDEX `NB_NATURALEZA_UNIQUE` (`NB_NATURALEZA` ASC))
ENGINE = InnoDB;


-- -----------------------------------------------------
-- Table `GESTION_FACTORIA`.`THGE007_PEP`
-- -----------------------------------------------------
DROP TABLE IF EXISTS `GESTION_FACTORIA`.`THGE007_PEP` ;

CREATE TABLE IF NOT EXISTS `GESTION_FACTORIA`.`THGE007_PEP` (
  `CD_PEP` CHAR(15) NOT NULL,
  `NB_DENOMINAC_PEP` VARCHAR(50) NOT NULL,
  `NU_EJERCICIO` INT(4) NOT NULL,
  `TX_CENTRO_CTO` CHAR(10) NOT NULL,
  `IM_PRESUPUESTO` DOUBLE NULL,
  `IM_AUTORIZADO` DOUBLE NULL,
  `IM_COMPR_SOL` DOUBLE NULL,
  `IM_COMPR_PEND` DOUBLE NULL,
  `IM_REALIZADO` DOUBLE NULL,
  `IM_DISPONIBLE` DOUBLE NULL,
  `IM_COMP_PBAS` DOUBLE NULL,
  `IM_COMP_FSW` DOUBLE NULL,
  `TP_DESLIZADO` BINARY NULL,
  `IM_INCURRIDO_PBAS` DOUBLE NULL,
  `IM_INCURRIDO_FSW` DOUBLE NULL,
  `CD_USUARIO_SOLIC` VARCHAR(10) NULL,
  `CD_USUARIO_RESP` VARCHAR(10) NULL,
  `CD_BANCA` INT(4) NOT NULL,
  `CD_ENTIDAD` INT(4) NOT NULL,
  `CD_NATURALEZA` INT(4) NOT NULL,
  `CD_AREA` INT(4) NOT NULL,
  `ST_PEP` INT(4) NOT NULL,
  `ST_DYD` INT(4) NOT NULL,
  PRIMARY KEY (`CD_PEP`),
  UNIQUE INDEX `CD_PEP_UNIQUE` (`CD_PEP` ASC),
  INDEX `R0070341_idx` (`CD_BANCA` ASC),
  INDEX `R0070112_idx` (`CD_USUARIO_SOLIC` ASC),
  INDEX `R0070113_idx` (`CD_USUARIO_RESP` ASC),
  INDEX `R0070374_idx` (`CD_ENTIDAD` ASC),
  INDEX `R0070385_idx` (`CD_NATURALEZA` ASC),
  INDEX `R0070306_idx` (`CD_AREA` ASC),
  INDEX `R0070057_idx` (`ST_PEP` ASC),
  INDEX `R0070058_idx` (`ST_DYD` ASC),
  CONSTRAINT `R0070341`
    FOREIGN KEY (`CD_BANCA`)
    REFERENCES `GESTION_FACTORIA`.`THGE034_BANCA` (`CD_BANCA`)
    ON DELETE NO ACTION
    ON UPDATE NO ACTION,
  CONSTRAINT `R0070112`
    FOREIGN KEY (`CD_USUARIO_SOLIC`)
    REFERENCES `GESTION_FACTORIA`.`THGE011_USUARIO` (`CD_USUARIO_CORP`)
    ON DELETE NO ACTION
    ON UPDATE NO ACTION,
  CONSTRAINT `R0070113`
    FOREIGN KEY (`CD_USUARIO_RESP`)
    REFERENCES `GESTION_FACTORIA`.`THGE011_USUARIO` (`CD_USUARIO_CORP`)
    ON DELETE NO ACTION
    ON UPDATE NO ACTION,
  CONSTRAINT `R0070374`
    FOREIGN KEY (`CD_ENTIDAD`)
    REFERENCES `GESTION_FACTORIA`.`THGE037_ENTIDAD` (`CD_ENTIDAD`)
    ON DELETE NO ACTION
    ON UPDATE NO ACTION,
  CONSTRAINT `R0070385`
    FOREIGN KEY (`CD_NATURALEZA`)
    REFERENCES `GESTION_FACTORIA`.`THGE038_NATURALEZA` (`CD_NATURALEZA`)
    ON DELETE NO ACTION
    ON UPDATE NO ACTION,
  CONSTRAINT `R0070306`
    FOREIGN KEY (`CD_AREA`)
    REFERENCES `GESTION_FACTORIA`.`THGE030_AREA` (`CD_AREA`)
    ON DELETE NO ACTION
    ON UPDATE NO ACTION,
  CONSTRAINT `R0070057`
    FOREIGN KEY (`ST_PEP`)
    REFERENCES `GESTION_FACTORIA`.`THGE005_ESTADO` (`CD_ESTADO`)
    ON DELETE NO ACTION
    ON UPDATE NO ACTION,
  CONSTRAINT `R0070058`
    FOREIGN KEY (`ST_DYD`)
    REFERENCES `GESTION_FACTORIA`.`THGE005_ESTADO` (`CD_ESTADO`)
    ON DELETE NO ACTION
    ON UPDATE NO ACTION)
ENGINE = InnoDB;


-- -----------------------------------------------------
-- Table `GESTION_FACTORIA`.`THGE010_NIVEL`
-- -----------------------------------------------------
DROP TABLE IF EXISTS `GESTION_FACTORIA`.`THGE010_NIVEL` ;

CREATE TABLE IF NOT EXISTS `GESTION_FACTORIA`.`THGE010_NIVEL` (
  `CD_NIVEL` INT(4) NOT NULL,
  `NB_NIVEL` VARCHAR(50) NOT NULL,
  `CD_TIPO_NIVEL` INT(4) NOT NULL,
  `CD_USUARIO_RESP` VARCHAR(10) NOT NULL,
  `CD_NIVEL_SUPERIOR` INT(4) NULL,
  PRIMARY KEY (`CD_NIVEL`),
  UNIQUE INDEX `CD_NIVEL_UNIQUE` (`CD_NIVEL` ASC),
  INDEX `R0100041_idx` (`CD_TIPO_NIVEL` ASC),
  INDEX `R0100112_idx` (`CD_USUARIO_RESP` ASC),
  INDEX `R0100103_idx` (`CD_NIVEL_SUPERIOR` ASC),
  CONSTRAINT `R0100041`
    FOREIGN KEY (`CD_TIPO_NIVEL`)
    REFERENCES `GESTION_FACTORIA`.`THGE004_TIPO_NIVEL` (`CD_TIPO_NIVEL`)
    ON DELETE NO ACTION
    ON UPDATE NO ACTION,
  CONSTRAINT `R0100112`
    FOREIGN KEY (`CD_USUARIO_RESP`)
    REFERENCES `GESTION_FACTORIA`.`THGE011_USUARIO` (`CD_USUARIO_CORP`)
    ON DELETE NO ACTION
    ON UPDATE NO ACTION,
  CONSTRAINT `R0100103`
    FOREIGN KEY (`CD_NIVEL_SUPERIOR`)
    REFERENCES `GESTION_FACTORIA`.`THGE010_NIVEL` (`CD_NIVEL`)
    ON DELETE NO ACTION
    ON UPDATE NO ACTION)
ENGINE = InnoDB;


-- -----------------------------------------------------
-- Table `GESTION_FACTORIA`.`THGE057_APLICACION`
-- -----------------------------------------------------
DROP TABLE IF EXISTS `GESTION_FACTORIA`.`THGE057_APLICACION` ;

CREATE TABLE IF NOT EXISTS `GESTION_FACTORIA`.`THGE057_APLICACION` (
  `CD_APLICACION` INT(4) NOT NULL AUTO_INCREMENT,
  `NB_APLICACION` VARCHAR(50) NOT NULL,
  `CD_TECNOLOGIA` INT(4) NOT NULL,
  PRIMARY KEY (`CD_APLICACION`),
  UNIQUE INDEX `CD_APLICACION_UNIQUE` (`CD_APLICACION` ASC),
  UNIQUE INDEX `NB_APLICACION_UNIQUE` (`NB_APLICACION` ASC),
  INDEX `R0570021_idx` (`CD_TECNOLOGIA` ASC),
  CONSTRAINT `R0570021`
    FOREIGN KEY (`CD_TECNOLOGIA`)
    REFERENCES `GESTION_FACTORIA`.`THGE002_TECNOLOGIA` (`CD_TECNOLOGIA`)
    ON DELETE NO ACTION
    ON UPDATE NO ACTION)
ENGINE = InnoDB;


-- -----------------------------------------------------
-- Table `GESTION_FACTORIA`.`THGE056_CANAL`
-- -----------------------------------------------------
DROP TABLE IF EXISTS `GESTION_FACTORIA`.`THGE056_CANAL` ;

CREATE TABLE IF NOT EXISTS `GESTION_FACTORIA`.`THGE056_CANAL` (
  `CD_CANAL` INT(4) NOT NULL AUTO_INCREMENT,
  `NB_CANAL` VARCHAR(50) NOT NULL,
  PRIMARY KEY (`CD_CANAL`),
  UNIQUE INDEX `CD_CANAL_UNIQUE` (`CD_CANAL` ASC),
  UNIQUE INDEX `NB_CANAL_UNIQUE` (`NB_CANAL` ASC))
ENGINE = InnoDB;


-- -----------------------------------------------------
-- Table `GESTION_FACTORIA`.`THGE013_PI`
-- -----------------------------------------------------
DROP TABLE IF EXISTS `GESTION_FACTORIA`.`THGE013_PI` ;

CREATE TABLE IF NOT EXISTS `GESTION_FACTORIA`.`THGE013_PI` (
  `CD_PI` INT(9) NOT NULL AUTO_INCREMENT,
  `NB_PI` VARCHAR(25) NOT NULL,
  PRIMARY KEY (`CD_PI`))
ENGINE = InnoDB;


-- -----------------------------------------------------
-- Table `GESTION_FACTORIA`.`THGE035_METODOLOGIA`
-- -----------------------------------------------------
DROP TABLE IF EXISTS `GESTION_FACTORIA`.`THGE035_METODOLOGIA` ;

CREATE TABLE IF NOT EXISTS `GESTION_FACTORIA`.`THGE035_METODOLOGIA` (
  `CD_METODOLOGIA` INT(4) NOT NULL AUTO_INCREMENT,
  `NB_METODOLOGIA` VARCHAR(25) NOT NULL,
  PRIMARY KEY (`CD_METODOLOGIA`),
  UNIQUE INDEX `NB_TIPO_PROY_UNIQUE` (`NB_METODOLOGIA` ASC))
ENGINE = InnoDB;


-- -----------------------------------------------------
-- Table `GESTION_FACTORIA`.`THGE022_PROYECTO`
-- -----------------------------------------------------
DROP TABLE IF EXISTS `GESTION_FACTORIA`.`THGE022_PROYECTO` ;

CREATE TABLE IF NOT EXISTS `GESTION_FACTORIA`.`THGE022_PROYECTO` (
  `CD_SDA` VARCHAR(15) NOT NULL,
  `CD_PI` INT(9) NULL,
  `CD_METODOLOGIA` INT(4) NULL,
  `NB_PROYECTO` VARCHAR(300) NOT NULL,
  PRIMARY KEY (`CD_SDA`),
  UNIQUE INDEX `CD_SDA_UNIQUE` (`CD_SDA` ASC),
  INDEX `R0220131_idx` (`CD_PI` ASC),
  INDEX `R0220352_idx` (`CD_METODOLOGIA` ASC),
  CONSTRAINT `R0220131`
    FOREIGN KEY (`CD_PI`)
    REFERENCES `GESTION_FACTORIA`.`THGE013_PI` (`CD_PI`)
    ON DELETE NO ACTION
    ON UPDATE NO ACTION,
  CONSTRAINT `R0220352`
    FOREIGN KEY (`CD_METODOLOGIA`)
    REFERENCES `GESTION_FACTORIA`.`THGE035_METODOLOGIA` (`CD_METODOLOGIA`)
    ON DELETE NO ACTION
    ON UPDATE NO ACTION)
ENGINE = InnoDB;


-- -----------------------------------------------------
-- Table `GESTION_FACTORIA`.`THGE017_REQUERIM`
-- -----------------------------------------------------
DROP TABLE IF EXISTS `GESTION_FACTORIA`.`THGE017_REQUERIM` ;

CREATE TABLE IF NOT EXISTS `GESTION_FACTORIA`.`THGE017_REQUERIM` (
  `CD_REQUERIMIENTO` INT(9) NOT NULL AUTO_INCREMENT,
  `NB_REQUERIMIENTO` VARCHAR(120) NOT NULL,
  `NU_HORA_REQ` DECIMAL(6,2) NULL,
  `NU_HRS_TOT` DECIMAL(6,2) NULL,
  `NU_HRS_FACT` DECIMAL(6,2) NULL,
  `NU_HRS_SIN_FACT` DECIMAL(6,2) NULL,
  `ST_FACTURADO` TINYINT NOT NULL,
  `TM_ALTA_REQ` TIMESTAMP(0) NULL DEFAULT CURRENT_TIMESTAMP,
  `NU_FACTURABLE` TINYINT NULL,
  `FH_INICIO_REQ` DATE NULL,
  `FH_FIN_REQ` DATE NULL,
  `CD_APLICACION` INT(4) NULL,
  `CD_CANAL` INT(4) NULL,
  `CD_SDA` VARCHAR(15) NULL,
  `CD_NIVEL` INT(4) NOT NULL,
  `CD_TECNOLOGIA` INT(4) NOT NULL,
  `CD_EMPRESA` INT(4) NOT NULL,
  `CD_AREA` INT(4) NOT NULL,
  `CD_TIPO_SERVICIO` INT(4) NOT NULL,
  `CD_PI` INT(4) NOT NULL,
  `CD_USUARIO_RESP` VARCHAR(10) NOT NULL,
  `CD_USUARIO_GESTOR` VARCHAR(10) NOT NULL,
  `ST_REQUERIMIENTO` INT(4) NOT NULL,
  PRIMARY KEY (`CD_REQUERIMIENTO`),
  UNIQUE INDEX `NB_REQUERIMIENTO_UNIQUE` (`NB_REQUERIMIENTO` ASC),
  INDEX `R0170101_idx` (`CD_NIVEL` ASC),
  INDEX `R0170022_idx` (`CD_TECNOLOGIA` ASC),
  INDEX `R0170033_idx` (`CD_EMPRESA` ASC),
  INDEX `R0170304_idx` (`CD_AREA` ASC),
  INDEX `R0170015_idx` (`CD_TIPO_SERVICIO` ASC),
  INDEX `R01701110_idx` (`CD_USUARIO_RESP` ASC),
  INDEX `R01701111_idx` (`CD_USUARIO_GESTOR` ASC),
  INDEX `R01700512_idx` (`ST_REQUERIMIENTO` ASC),
  INDEX `R0170576_idx` (`CD_APLICACION` ASC),
  INDEX `R0170138_idx` (`CD_PI` ASC),
  INDEX `R0170229_idx1` (`CD_SDA` ASC),
  CONSTRAINT `R0170101`
    FOREIGN KEY (`CD_NIVEL`)
    REFERENCES `GESTION_FACTORIA`.`THGE010_NIVEL` (`CD_NIVEL`)
    ON DELETE NO ACTION
    ON UPDATE NO ACTION,
  CONSTRAINT `R0170022`
    FOREIGN KEY (`CD_TECNOLOGIA`)
    REFERENCES `GESTION_FACTORIA`.`THGE002_TECNOLOGIA` (`CD_TECNOLOGIA`)
    ON DELETE NO ACTION
    ON UPDATE NO ACTION,
  CONSTRAINT `R0170033`
    FOREIGN KEY (`CD_EMPRESA`)
    REFERENCES `GESTION_FACTORIA`.`THGE003_EMPRESA` (`CD_EMPRESA`)
    ON DELETE NO ACTION
    ON UPDATE NO ACTION,
  CONSTRAINT `R0170304`
    FOREIGN KEY (`CD_AREA`)
    REFERENCES `GESTION_FACTORIA`.`THGE030_AREA` (`CD_AREA`)
    ON DELETE NO ACTION
    ON UPDATE NO ACTION,
  CONSTRAINT `R0170015`
    FOREIGN KEY (`CD_TIPO_SERVICIO`)
    REFERENCES `GESTION_FACTORIA`.`THGE001_TIPO_SERV` (`CD_TIPO_SERVICIO`)
    ON DELETE NO ACTION
    ON UPDATE NO ACTION,
  CONSTRAINT `R0170576`
    FOREIGN KEY (`CD_APLICACION`)
    REFERENCES `GESTION_FACTORIA`.`THGE057_APLICACION` (`CD_APLICACION`)
    ON DELETE NO ACTION
    ON UPDATE NO ACTION,
  CONSTRAINT `R0170567`
    FOREIGN KEY (`CD_CANAL`)
    REFERENCES `GESTION_FACTORIA`.`THGE056_CANAL` (`CD_CANAL`)
    ON DELETE NO ACTION
    ON UPDATE NO ACTION,
  CONSTRAINT `R0170138`
    FOREIGN KEY (`CD_PI`)
    REFERENCES `GESTION_FACTORIA`.`THGE013_PI` (`CD_PI`)
    ON DELETE NO ACTION
    ON UPDATE NO ACTION,
  CONSTRAINT `R01701110`
    FOREIGN KEY (`CD_USUARIO_RESP`)
    REFERENCES `GESTION_FACTORIA`.`THGE011_USUARIO` (`CD_USUARIO_CORP`)
    ON DELETE NO ACTION
    ON UPDATE NO ACTION,
  CONSTRAINT `R01701111`
    FOREIGN KEY (`CD_USUARIO_GESTOR`)
    REFERENCES `GESTION_FACTORIA`.`THGE011_USUARIO` (`CD_USUARIO_CORP`)
    ON DELETE NO ACTION
    ON UPDATE NO ACTION,
  CONSTRAINT `R01700512`
    FOREIGN KEY (`ST_REQUERIMIENTO`)
    REFERENCES `GESTION_FACTORIA`.`THGE005_ESTADO` (`CD_ESTADO`)
    ON DELETE NO ACTION
    ON UPDATE NO ACTION,
  CONSTRAINT `R0170229`
    FOREIGN KEY (`CD_SDA`)
    REFERENCES `GESTION_FACTORIA`.`THGE022_PROYECTO` (`CD_SDA`)
    ON DELETE NO ACTION
    ON UPDATE NO ACTION)
ENGINE = InnoDB;


-- -----------------------------------------------------
-- Table `GESTION_FACTORIA`.`THGE009_COMPONENTE`
-- -----------------------------------------------------
DROP TABLE IF EXISTS `GESTION_FACTORIA`.`THGE009_COMPONENTE` ;

CREATE TABLE IF NOT EXISTS `GESTION_FACTORIA`.`THGE009_COMPONENTE` (
  `CD_COMPONENTE` INT(12) NOT NULL AUTO_INCREMENT,
  `NB_COMPONENTE` VARCHAR(45) NOT NULL,
  `TX_VENTREGA` CHAR(9) NOT NULL,
  `IM_COSTE_EMP` DOUBLE NULL,
  `IM_COSTE_INIC` DOUBLE NULL,
  `TX_COM_TIPIF_EMP` VARCHAR(600) NULL,
  `FH_NEG_EMP_CGF_SW` DATE NOT NULL,
  `FH_PRV_EMP_CGF_SW` DATE NOT NULL,
  `FH_R_CGF_EMP_DIS` DATE NOT NULL,
  `FH_R_EMP_CGF_SW` DATE NULL,
  `NU_FACTURABLE` INT(1) NULL,
  `TM_ALTA_COMP` TIMESTAMP(0) NOT NULL DEFAULT CURRENT_TIMESTAMP,
  `HM_DIF_F` DECIMAL(6,2) NULL,
  `CD_REQUERIMIENTO` INT(12) NOT NULL,
  `CD_TIPOLOGIA` INT(4) NOT NULL,
  `CD_TIPOLOGIA_EMP` INT(4) NOT NULL,
  `ST_TIPIFICACION` INT(4) NOT NULL,
  `ST_COMPONENTE` INT(4) NOT NULL,
  PRIMARY KEY (`CD_COMPONENTE`),
  INDEX `R0090171_idx` (`CD_REQUERIMIENTO` ASC),
  INDEX `R0090062_idx` (`CD_TIPOLOGIA` ASC),
  INDEX `R0090063_idx` (`CD_TIPOLOGIA_EMP` ASC),
  INDEX `R0090054_idx` (`ST_TIPIFICACION` ASC),
  INDEX `R0090055_idx` (`ST_COMPONENTE` ASC),
  CONSTRAINT `R0090171`
    FOREIGN KEY (`CD_REQUERIMIENTO`)
    REFERENCES `GESTION_FACTORIA`.`THGE017_REQUERIM` (`CD_REQUERIMIENTO`)
    ON DELETE NO ACTION
    ON UPDATE NO ACTION,
  CONSTRAINT `R0090062`
    FOREIGN KEY (`CD_TIPOLOGIA`)
    REFERENCES `GESTION_FACTORIA`.`THGE006_TIPOLOGIA` (`CD_TIPOLOGIA`)
    ON DELETE NO ACTION
    ON UPDATE NO ACTION,
  CONSTRAINT `R0090063`
    FOREIGN KEY (`CD_TIPOLOGIA_EMP`)
    REFERENCES `GESTION_FACTORIA`.`THGE006_TIPOLOGIA` (`CD_TIPOLOGIA`)
    ON DELETE NO ACTION
    ON UPDATE NO ACTION,
  CONSTRAINT `R0090054`
    FOREIGN KEY (`ST_TIPIFICACION`)
    REFERENCES `GESTION_FACTORIA`.`THGE005_ESTADO` (`CD_ESTADO`)
    ON DELETE NO ACTION
    ON UPDATE NO ACTION,
  CONSTRAINT `R0090055`
    FOREIGN KEY (`ST_COMPONENTE`)
    REFERENCES `GESTION_FACTORIA`.`THGE005_ESTADO` (`CD_ESTADO`)
    ON DELETE NO ACTION
    ON UPDATE NO ACTION)
ENGINE = InnoDB;


-- -----------------------------------------------------
-- Table `GESTION_FACTORIA`.`THGE012_TRASPASO`
-- -----------------------------------------------------
DROP TABLE IF EXISTS `GESTION_FACTORIA`.`THGE012_TRASPASO` ;

CREATE TABLE IF NOT EXISTS `GESTION_FACTORIA`.`THGE012_TRASPASO` (
  `CD_TRASPASO` INT(12) NOT NULL AUTO_INCREMENT,
  `FH_TRASPASO` DATE NOT NULL,
  `FH_RETIRO` DATE NULL,
  `IM_TRASPASO` DOUBLE NOT NULL,
  `IM_RETIRO` DOUBLE NULL,
  `TX_COMENTARIO` VARCHAR(200) NULL,
  `CD_NIVEL_SUBDIR` INT(4) NULL,
  `CD_USU_RESP_DYD` VARCHAR(10) NULL,
  `CD_PEP` CHAR(15) NULL,
  PRIMARY KEY (`CD_TRASPASO`),
  INDEX `R0120071_idx` (`CD_PEP` ASC),
  INDEX `R0120102_idx` (`CD_NIVEL_SUBDIR` ASC),
  INDEX `R0120113_idx` (`CD_USU_RESP_DYD` ASC),
  CONSTRAINT `R0120071`
    FOREIGN KEY (`CD_PEP`)
    REFERENCES `GESTION_FACTORIA`.`THGE007_PEP` (`CD_PEP`)
    ON DELETE NO ACTION
    ON UPDATE NO ACTION,
  CONSTRAINT `R0120102`
    FOREIGN KEY (`CD_NIVEL_SUBDIR`)
    REFERENCES `GESTION_FACTORIA`.`THGE010_NIVEL` (`CD_NIVEL`)
    ON DELETE NO ACTION
    ON UPDATE NO ACTION,
  CONSTRAINT `R0120113`
    FOREIGN KEY (`CD_USU_RESP_DYD`)
    REFERENCES `GESTION_FACTORIA`.`THGE011_USUARIO` (`CD_USUARIO_CORP`)
    ON DELETE NO ACTION
    ON UPDATE NO ACTION)
ENGINE = InnoDB;


-- -----------------------------------------------------
-- Table `GESTION_FACTORIA`.`THGE014_PAIS`
-- -----------------------------------------------------
DROP TABLE IF EXISTS `GESTION_FACTORIA`.`THGE014_PAIS` ;

CREATE TABLE IF NOT EXISTS `GESTION_FACTORIA`.`THGE014_PAIS` (
  `CD_PAIS` INT(9) NOT NULL AUTO_INCREMENT,
  `NB_PAIS` VARCHAR(50) NOT NULL,
  `NB_NACIONALIDAD` VARCHAR(50) NOT NULL,
  PRIMARY KEY (`CD_PAIS`))
ENGINE = InnoDB;


-- -----------------------------------------------------
-- Table `GESTION_FACTORIA`.`THGE015_PRIORIDAD`
-- -----------------------------------------------------
DROP TABLE IF EXISTS `GESTION_FACTORIA`.`THGE015_PRIORIDAD` ;

CREATE TABLE IF NOT EXISTS `GESTION_FACTORIA`.`THGE015_PRIORIDAD` (
  `CD_PRIORIDAD` INT(4) NOT NULL AUTO_INCREMENT,
  `NB_PRIORIDAD` VARCHAR(25) NOT NULL,
  PRIMARY KEY (`CD_PRIORIDAD`),
  UNIQUE INDEX `NB_PRIORIDAD_UNIQUE` (`NB_PRIORIDAD` ASC))
ENGINE = InnoDB;


-- -----------------------------------------------------
-- Table `GESTION_FACTORIA`.`THGE019_ORIGEN`
-- -----------------------------------------------------
DROP TABLE IF EXISTS `GESTION_FACTORIA`.`THGE019_ORIGEN` ;

CREATE TABLE IF NOT EXISTS `GESTION_FACTORIA`.`THGE019_ORIGEN` (
  `CD_ORIGEN` INT(4) NOT NULL AUTO_INCREMENT,
  `NB_ORIGEN` VARCHAR(50) NOT NULL,
  PRIMARY KEY (`CD_ORIGEN`),
  UNIQUE INDEX `THGE019_ORIGENcol_UNIQUE` (`NB_ORIGEN` ASC))
ENGINE = InnoDB;


-- -----------------------------------------------------
-- Table `GESTION_FACTORIA`.`THGE020_CLASIF_REC`
-- -----------------------------------------------------
DROP TABLE IF EXISTS `GESTION_FACTORIA`.`THGE020_CLASIF_REC` ;

CREATE TABLE IF NOT EXISTS `GESTION_FACTORIA`.`THGE020_CLASIF_REC` (
  `CD_CLASIF_REC` INT(4) NOT NULL AUTO_INCREMENT,
  `NB_CLASIF_REC` VARCHAR(50) NOT NULL,
  PRIMARY KEY (`CD_CLASIF_REC`),
  UNIQUE INDEX `NB_CLASIF_REC_UNIQUE` (`NB_CLASIF_REC` ASC))
ENGINE = InnoDB;


-- -----------------------------------------------------
-- Table `GESTION_FACTORIA`.`THGE021_SBCLAS_REC`
-- -----------------------------------------------------
DROP TABLE IF EXISTS `GESTION_FACTORIA`.`THGE021_SBCLAS_REC` ;

CREATE TABLE IF NOT EXISTS `GESTION_FACTORIA`.`THGE021_SBCLAS_REC` (
  `CD_SBCLAS_REC` INT(4) NOT NULL AUTO_INCREMENT,
  `NB_SBCLAS_REC` VARCHAR(45) NOT NULL,
  `CD_CLASIF_REC` INT(4) NOT NULL,
  PRIMARY KEY (`CD_SBCLAS_REC`),
  INDEX `R0210201_idx` (`CD_CLASIF_REC` ASC),
  CONSTRAINT `R0210201`
    FOREIGN KEY (`CD_CLASIF_REC`)
    REFERENCES `GESTION_FACTORIA`.`THGE020_CLASIF_REC` (`CD_CLASIF_REC`)
    ON DELETE NO ACTION
    ON UPDATE NO ACTION)
ENGINE = InnoDB;


-- -----------------------------------------------------
-- Table `GESTION_FACTORIA`.`THGE023_PROGRAMA`
-- -----------------------------------------------------
DROP TABLE IF EXISTS `GESTION_FACTORIA`.`THGE023_PROGRAMA` ;

CREATE TABLE IF NOT EXISTS `GESTION_FACTORIA`.`THGE023_PROGRAMA` (
  `CD_PROGRAMA` INT(4) NOT NULL AUTO_INCREMENT,
  `NB_PROGRAMA` VARCHAR(50) NOT NULL,
  PRIMARY KEY (`CD_PROGRAMA`),
  UNIQUE INDEX `NB_PROGRAMA_UNIQUE` (`NB_PROGRAMA` ASC))
ENGINE = InnoDB;


-- -----------------------------------------------------
-- Table `GESTION_FACTORIA`.`THGE025_SEDE`
-- -----------------------------------------------------
DROP TABLE IF EXISTS `GESTION_FACTORIA`.`THGE025_SEDE` ;

CREATE TABLE IF NOT EXISTS `GESTION_FACTORIA`.`THGE025_SEDE` (
  `CD_SEDE` INT(4) NOT NULL AUTO_INCREMENT,
  `NB_SEDE` VARCHAR(25) NOT NULL,
  PRIMARY KEY (`CD_SEDE`),
  UNIQUE INDEX `NB_SEDE_UNIQUE` (`NB_SEDE` ASC))
ENGINE = InnoDB;


-- -----------------------------------------------------
-- Table `GESTION_FACTORIA`.`THGE066_TP_PROY`
-- -----------------------------------------------------
DROP TABLE IF EXISTS `GESTION_FACTORIA`.`THGE066_TP_PROY` ;

CREATE TABLE IF NOT EXISTS `GESTION_FACTORIA`.`THGE066_TP_PROY` (
  `CD_TP_PROYECTO` INT(4) NOT NULL AUTO_INCREMENT,
  `NB_TP_PROYECTO` VARCHAR(25) NOT NULL,
  PRIMARY KEY (`CD_TP_PROYECTO`),
  UNIQUE INDEX `NB_TP_PROYECTO_UNIQUE` (`NB_TP_PROYECTO` ASC))
ENGINE = InnoDB;


-- -----------------------------------------------------
-- Table `GESTION_FACTORIA`.`THGE067_ESQ_PAGO`
-- -----------------------------------------------------
DROP TABLE IF EXISTS `GESTION_FACTORIA`.`THGE067_ESQ_PAGO` ;

CREATE TABLE IF NOT EXISTS `GESTION_FACTORIA`.`THGE067_ESQ_PAGO` (
  `CD_ESQUEMA_PAGO` INT(4) NOT NULL AUTO_INCREMENT,
  `NB_ESQ_PAGO` VARCHAR(25) NOT NULL,
  PRIMARY KEY (`CD_ESQUEMA_PAGO`),
  UNIQUE INDEX `NB_ESQ_PAGO_UNIQUE` (`NB_ESQ_PAGO` ASC))
ENGINE = InnoDB;


-- -----------------------------------------------------
-- Table `GESTION_FACTORIA`.`THGE064_TP_IDENTIF`
-- -----------------------------------------------------
DROP TABLE IF EXISTS `GESTION_FACTORIA`.`THGE064_TP_IDENTIF` ;

CREATE TABLE IF NOT EXISTS `GESTION_FACTORIA`.`THGE064_TP_IDENTIF` (
  `CD_IDENTIFICACION` INT(4) NOT NULL AUTO_INCREMENT,
  `NB_IDENTIFICACION` VARCHAR(25) NOT NULL,
  PRIMARY KEY (`CD_IDENTIFICACION`),
  UNIQUE INDEX `NB_IDENTIFICACION_UNIQUE` (`NB_IDENTIFICACION` ASC))
ENGINE = InnoDB;


-- -----------------------------------------------------
-- Table `GESTION_FACTORIA`.`THGE024_CTRL_EXT`
-- -----------------------------------------------------
DROP TABLE IF EXISTS `GESTION_FACTORIA`.`THGE024_CTRL_EXT` ;

CREATE TABLE IF NOT EXISTS `GESTION_FACTORIA`.`THGE024_CTRL_EXT` (
  `CD_EXTERNO_CORP` VARCHAR(10) NOT NULL,
  `NB_REC_EXTERNO` VARCHAR(50) NOT NULL,
  `NB_APELL_PAT` VARCHAR(30) NOT NULL,
  `NB_APELL_MAT` VARCHAR(30) NULL,
  `TX_RFC` CHAR(13) BINARY NULL,
  `TX_CURP` CHAR(18) NULL,
  `TX_NSS` CHAR(11) NULL,
  `FH_NACIMIENTO` DATE NULL,
  `CD_GENERO` CHAR(1) NOT NULL,
  `TP_IDENTIF` INT(4) NOT NULL,
  `TX_IDENTIFICACION` VARCHAR(25) NULL,
  `TX_DIR_SCRUM` VARCHAR(25) NULL,
  `NB_PROY_EXT` VARCHAR(150) NULL,
  `FH_INIC_PROY` DATE NULL,
  `FH_FIN_PROY` DATE NULL,
  `TX_HOST` CHAR(2) NULL,
  `TX_VPN` CHAR(9) NULL,
  `FH_VIGENCIA_TOKEN` DATE NULL,
  `NU_PISO` INT(2) NULL,
  `TX_ESTACION` CHAR(6) NULL,
  `TX_CORREO_ELECTR` VARCHAR(70) NULL,
  `TX_HORARIO` VARCHAR(17) NULL,
  `FH_ALTA` DATE NULL,
  `FH_BAJA` DATE NULL,
  `CD_PROYECTO_AG` INT(4) NOT NULL,
  `CD_ESQUEMA_PAGO` INT(4) NOT NULL,
  `CD_TP_PROYECTO` INT(4) NOT NULL,
  `CD_USUARIO_GESTOR` VARCHAR(10) NULL,
  `CD_PAIS` INT(4) NOT NULL,
  `ST_REC_EXT` INT(4) NOT NULL,
  `CD_PERFIL_REC` INT(4) NOT NULL,
  `CD_SBCLAS_REC` INT(4) NOT NULL,
  `CD_EMPRESA` INT(4) NOT NULL,
  `CD_AREA` INT(4) NOT NULL,
  `CD_USUARIO_RESP` VARCHAR(10) NOT NULL,
  `CD_SEDE` INT(4) NOT NULL,
  PRIMARY KEY (`CD_EXTERNO_CORP`),
  INDEX `R0240141_idx` (`CD_PAIS` ASC),
  INDEX `R0240052_idx` (`ST_REC_EXT` ASC),
  INDEX `R0250163_idx` (`CD_PERFIL_REC` ASC),
  INDEX `R0240214_idx` (`CD_SBCLAS_REC` ASC),
  INDEX `R0240115_idx` (`CD_USUARIO_GESTOR` ASC),
  INDEX `R0240037_idx` (`CD_EMPRESA` ASC),
  INDEX `R0240308_idx` (`CD_AREA` ASC),
  INDEX `R0240119_idx` (`CD_USUARIO_RESP` ASC),
  INDEX `R02402510_idx` (`CD_SEDE` ASC),
  UNIQUE INDEX `CD_EXTERNO_CORP_UNIQUE` (`CD_EXTERNO_CORP` ASC),
  INDEX `R0240666_idx` (`CD_TP_PROYECTO` ASC),
  INDEX `R0240677_idx` (`CD_ESQUEMA_PAGO` ASC),
  INDEX `R0240643_idx` (`TP_IDENTIF` ASC),
  INDEX `R0240655_idx` (`CD_PROYECTO_AG` ASC),
  CONSTRAINT `R0240141`
    FOREIGN KEY (`CD_PAIS`)
    REFERENCES `GESTION_FACTORIA`.`THGE014_PAIS` (`CD_PAIS`)
    ON DELETE NO ACTION
    ON UPDATE NO ACTION,
  CONSTRAINT `R0240052`
    FOREIGN KEY (`ST_REC_EXT`)
    REFERENCES `GESTION_FACTORIA`.`THGE005_ESTADO` (`CD_ESTADO`)
    ON DELETE NO ACTION
    ON UPDATE NO ACTION,
  CONSTRAINT `R0240163`
    FOREIGN KEY (`CD_PERFIL_REC`)
    REFERENCES `GESTION_FACTORIA`.`THGE016_PERF_USU` (`CD_TIPO_PERFIL`)
    ON DELETE NO ACTION
    ON UPDATE NO ACTION,
  CONSTRAINT `R0240214`
    FOREIGN KEY (`CD_SBCLAS_REC`)
    REFERENCES `GESTION_FACTORIA`.`THGE021_SBCLAS_REC` (`CD_SBCLAS_REC`)
    ON DELETE NO ACTION
    ON UPDATE NO ACTION,
  CONSTRAINT `R0240115`
    FOREIGN KEY (`CD_USUARIO_GESTOR`)
    REFERENCES `GESTION_FACTORIA`.`THGE011_USUARIO` (`CD_USUARIO_CORP`)
    ON DELETE NO ACTION
    ON UPDATE NO ACTION,
  CONSTRAINT `R0240037`
    FOREIGN KEY (`CD_EMPRESA`)
    REFERENCES `GESTION_FACTORIA`.`THGE003_EMPRESA` (`CD_EMPRESA`)
    ON DELETE NO ACTION
    ON UPDATE NO ACTION,
  CONSTRAINT `R0240308`
    FOREIGN KEY (`CD_AREA`)
    REFERENCES `GESTION_FACTORIA`.`THGE030_AREA` (`CD_AREA`)
    ON DELETE NO ACTION
    ON UPDATE NO ACTION,
  CONSTRAINT `R0240119`
    FOREIGN KEY (`CD_USUARIO_RESP`)
    REFERENCES `GESTION_FACTORIA`.`THGE011_USUARIO` (`CD_USUARIO_CORP`)
    ON DELETE NO ACTION
    ON UPDATE NO ACTION,
  CONSTRAINT `R02402510`
    FOREIGN KEY (`CD_SEDE`)
    REFERENCES `GESTION_FACTORIA`.`THGE025_SEDE` (`CD_SEDE`)
    ON DELETE NO ACTION
    ON UPDATE NO ACTION,
  CONSTRAINT `R0240666`
    FOREIGN KEY (`CD_TP_PROYECTO`)
    REFERENCES `GESTION_FACTORIA`.`THGE066_TP_PROY` (`CD_TP_PROYECTO`)
    ON DELETE NO ACTION
    ON UPDATE NO ACTION,
  CONSTRAINT `R0240677`
    FOREIGN KEY (`CD_ESQUEMA_PAGO`)
    REFERENCES `GESTION_FACTORIA`.`THGE067_ESQ_PAGO` (`CD_ESQUEMA_PAGO`)
    ON DELETE NO ACTION
    ON UPDATE NO ACTION,
  CONSTRAINT `R0240643`
    FOREIGN KEY (`TP_IDENTIF`)
    REFERENCES `GESTION_FACTORIA`.`THGE064_TP_IDENTIF` (`CD_IDENTIFICACION`)
    ON DELETE NO ACTION
    ON UPDATE NO ACTION,
  CONSTRAINT `R0240655`
    FOREIGN KEY (`CD_PROYECTO_AG`)
    REFERENCES `GESTION_FACTORIA`.`THGE066_TP_PROY` (`CD_TP_PROYECTO`)
    ON DELETE NO ACTION
    ON UPDATE NO ACTION)
ENGINE = InnoDB;


-- -----------------------------------------------------
-- Table `GESTION_FACTORIA`.`THGE026_MODIF`
-- -----------------------------------------------------
DROP TABLE IF EXISTS `GESTION_FACTORIA`.`THGE026_MODIF` ;

CREATE TABLE IF NOT EXISTS `GESTION_FACTORIA`.`THGE026_MODIF` (
  `CD_MODIFICACION` INT(9) NOT NULL AUTO_INCREMENT,
  `TX_MOD_EN_VUELO` CHAR(2) NOT NULL,
  `TX_MOD_RZDA_DYD` CHAR(2) NOT NULL,
  `NB_DESC_MODIF` VARCHAR(1000) NULL,
  `FH_ENVIO` DATE NOT NULL,
  `FH_PREV_FINAL` DATE NULL,
  `FH_RENEGOCIADA` DATE NULL,
  `FH_CIERRE` DATE NOT NULL,
  `TX_COMENT_MOD` VARCHAR(250) NULL,
  `TX_DIFICULTAD_INI` CHAR(1) NULL,
  `IM_COSTE_INIC` DOUBLE NULL,
  `TX_DIF_EMP` CHAR(1) NULL,
  `IM_COSTE_EMP` DOUBLE NULL,
  `TX_COM_TIPIF_EMP` VARCHAR(500) NULL,
  `TX_FACT_S_N` CHAR(2) NOT NULL,
  `TX_COM_TIPIF_PROY` VARCHAR(500) NULL,
  `CD_TIPOLOGIA_INI` INT(4) NULL,
  `CD_TIPOLOGIA_EMP` INT(4) NULL,
  `CD_COMPONENTE` INT(12) NOT NULL,
  `ST_MODIFICACION` INT(4) NOT NULL,
  `ST_TIPIF` INT(4) NOT NULL,
  `CD_PRIORIDAD_USU` INT(4) NOT NULL,
  `CD_USU_PETICION` VARCHAR(10) NOT NULL,
  `CD_ORIGEN` INT(4) NOT NULL,
  `CD_RESP_RESOL` VARCHAR(10) NOT NULL,
  PRIMARY KEY (`CD_MODIFICACION`),
  INDEX `R0260091_idx` (`CD_COMPONENTE` ASC),
  INDEX `R0260052_idx` (`ST_MODIFICACION` ASC),
  INDEX `R0260053_idx` (`ST_TIPIF` ASC),
  INDEX `R0260154_idx` (`CD_PRIORIDAD_USU` ASC),
  INDEX `R0260196_idx` (`CD_ORIGEN` ASC),
  INDEX `R0260117_idx` (`CD_RESP_RESOL` ASC),
  INDEX `R0260115_idx` (`CD_USU_PETICION` ASC),
  INDEX `R0260063_idx` (`CD_TIPOLOGIA_INI` ASC),
  INDEX `R0260034_idx` (`CD_TIPOLOGIA_EMP` ASC),
  CONSTRAINT `R0260091`
    FOREIGN KEY (`CD_COMPONENTE`)
    REFERENCES `GESTION_FACTORIA`.`THGE009_COMPONENTE` (`CD_COMPONENTE`)
    ON DELETE NO ACTION
    ON UPDATE NO ACTION,
  CONSTRAINT `R0260052`
    FOREIGN KEY (`ST_MODIFICACION`)
    REFERENCES `GESTION_FACTORIA`.`THGE005_ESTADO` (`CD_ESTADO`)
    ON DELETE NO ACTION
    ON UPDATE NO ACTION,
  CONSTRAINT `R0260053`
    FOREIGN KEY (`ST_TIPIF`)
    REFERENCES `GESTION_FACTORIA`.`THGE005_ESTADO` (`CD_ESTADO`)
    ON DELETE NO ACTION
    ON UPDATE NO ACTION,
  CONSTRAINT `R0260154`
    FOREIGN KEY (`CD_PRIORIDAD_USU`)
    REFERENCES `GESTION_FACTORIA`.`THGE015_PRIORIDAD` (`CD_PRIORIDAD`)
    ON DELETE NO ACTION
    ON UPDATE NO ACTION,
  CONSTRAINT `R0260196`
    FOREIGN KEY (`CD_ORIGEN`)
    REFERENCES `GESTION_FACTORIA`.`THGE019_ORIGEN` (`CD_ORIGEN`)
    ON DELETE NO ACTION
    ON UPDATE NO ACTION,
  CONSTRAINT `R0260117`
    FOREIGN KEY (`CD_RESP_RESOL`)
    REFERENCES `GESTION_FACTORIA`.`THGE011_USUARIO` (`CD_USUARIO_CORP`)
    ON DELETE NO ACTION
    ON UPDATE NO ACTION,
  CONSTRAINT `R0260115`
    FOREIGN KEY (`CD_USU_PETICION`)
    REFERENCES `GESTION_FACTORIA`.`THGE011_USUARIO` (`CD_USUARIO_CORP`)
    ON DELETE NO ACTION
    ON UPDATE NO ACTION,
  CONSTRAINT `R0260063`
    FOREIGN KEY (`CD_TIPOLOGIA_INI`)
    REFERENCES `GESTION_FACTORIA`.`THGE006_TIPOLOGIA` (`CD_TIPOLOGIA`)
    ON DELETE NO ACTION
    ON UPDATE NO ACTION,
  CONSTRAINT `R0260034`
    FOREIGN KEY (`CD_TIPOLOGIA_EMP`)
    REFERENCES `GESTION_FACTORIA`.`THGE006_TIPOLOGIA` (`CD_TIPOLOGIA`)
    ON DELETE NO ACTION
    ON UPDATE NO ACTION)
ENGINE = InnoDB;


-- -----------------------------------------------------
-- Table `GESTION_FACTORIA`.`THGE028_TIPO_DUDA`
-- -----------------------------------------------------
DROP TABLE IF EXISTS `GESTION_FACTORIA`.`THGE028_TIPO_DUDA` ;

CREATE TABLE IF NOT EXISTS `GESTION_FACTORIA`.`THGE028_TIPO_DUDA` (
  `CD_TIPO_DUDA` INT(4) NOT NULL AUTO_INCREMENT,
  `NB_TIPO_DUDA` VARCHAR(50) NOT NULL,
  PRIMARY KEY (`CD_TIPO_DUDA`),
  UNIQUE INDEX `NB_TIPO_DUDA_UNIQUE` (`NB_TIPO_DUDA` ASC))
ENGINE = InnoDB;


-- -----------------------------------------------------
-- Table `GESTION_FACTORIA`.`THGE027_DUDA`
-- -----------------------------------------------------
DROP TABLE IF EXISTS `GESTION_FACTORIA`.`THGE027_DUDA` ;

CREATE TABLE IF NOT EXISTS `GESTION_FACTORIA`.`THGE027_DUDA` (
  `CD_DUDA` INT(9) NOT NULL AUTO_INCREMENT,
  `FH_ALTA` TIMESTAMP(0) NOT NULL,
  `TX_VENTREGA` CHAR(9) NOT NULL,
  `NB_DESC_DUDA_HIST` VARCHAR(600) NOT NULL,
  `NB_DESC_RES_HIST` VARCHAR(600) NULL,
  `TX_DOC_DUDA` BLOB NULL,
  `FH_RESOLUCION` DATE NULL,
  `NU_RES_INCORR` INT(4) NULL,
  `CD_USU_RESP` VARCHAR(45) NULL,
  `CD_COMPONENTE` INT(12) NOT NULL,
  `ST_DUDA` INT(4) NOT NULL,
  `CD_PRIORIDAD` INT(4) NOT NULL,
  `CD_TIPO_DUDA` INT(4) NOT NULL,
  `CD_USU_PETICION` VARCHAR(10) NOT NULL,
  PRIMARY KEY (`CD_DUDA`),
  INDEX `R0270091_idx` (`CD_COMPONENTE` ASC),
  INDEX `R0270052_idx` (`ST_DUDA` ASC),
  INDEX `R0270153_idx` (`CD_PRIORIDAD` ASC),
  INDEX `R0270284_idx` (`CD_TIPO_DUDA` ASC),
  INDEX `R0270115_idx` (`CD_USU_PETICION` ASC),
  INDEX `R0270116_idx` (`CD_USU_RESP` ASC),
  CONSTRAINT `R0270091`
    FOREIGN KEY (`CD_COMPONENTE`)
    REFERENCES `GESTION_FACTORIA`.`THGE009_COMPONENTE` (`CD_COMPONENTE`)
    ON DELETE NO ACTION
    ON UPDATE NO ACTION,
  CONSTRAINT `R0270052`
    FOREIGN KEY (`ST_DUDA`)
    REFERENCES `GESTION_FACTORIA`.`THGE005_ESTADO` (`CD_ESTADO`)
    ON DELETE NO ACTION
    ON UPDATE NO ACTION,
  CONSTRAINT `R0270153`
    FOREIGN KEY (`CD_PRIORIDAD`)
    REFERENCES `GESTION_FACTORIA`.`THGE015_PRIORIDAD` (`CD_PRIORIDAD`)
    ON DELETE NO ACTION
    ON UPDATE NO ACTION,
  CONSTRAINT `R0270284`
    FOREIGN KEY (`CD_TIPO_DUDA`)
    REFERENCES `GESTION_FACTORIA`.`THGE028_TIPO_DUDA` (`CD_TIPO_DUDA`)
    ON DELETE NO ACTION
    ON UPDATE NO ACTION,
  CONSTRAINT `R0270115`
    FOREIGN KEY (`CD_USU_PETICION`)
    REFERENCES `GESTION_FACTORIA`.`THGE011_USUARIO` (`CD_USUARIO_CORP`)
    ON DELETE NO ACTION
    ON UPDATE NO ACTION,
  CONSTRAINT `R0270116`
    FOREIGN KEY (`CD_USU_RESP`)
    REFERENCES `GESTION_FACTORIA`.`THGE011_USUARIO` (`CD_USUARIO_CORP`)
    ON DELETE NO ACTION
    ON UPDATE NO ACTION)
ENGINE = InnoDB;


-- -----------------------------------------------------
-- Table `GESTION_FACTORIA`.`THGE029_INCIDENCIA`
-- -----------------------------------------------------
DROP TABLE IF EXISTS `GESTION_FACTORIA`.`THGE029_INCIDENCIA` ;

CREATE TABLE IF NOT EXISTS `GESTION_FACTORIA`.`THGE029_INCIDENCIA` (
  `CD_INCIDENCIA` INT(9) NOT NULL AUTO_INCREMENT,
  `FH_ALTA` TIMESTAMP(0) NOT NULL,
  `NB_DESC_INC_HIST` VARCHAR(600) NOT NULL,
  `NB_DESC_RESOL_INC` VARCHAR(600) NULL,
  `TX_DOC_INCIDENCIA` BLOB NULL,
  `TX_INC_RLTA_DYD` CHAR(2) NULL,
  `FH_RESOLUCION` DATE NULL,
  `NU_RES_INCORR` INT(4) NULL,
  `ST_INCIDENCIA` INT(4) NULL,
  `CD_ORIGEN` INT(4) NULL,
  `CD_COMPONENTE` INT(12) NOT NULL,
  `CD_PRIORIDAD` INT(4) NOT NULL,
  `CD_USU_PETICION` VARCHAR(10) NOT NULL,
  PRIMARY KEY (`CD_INCIDENCIA`),
  INDEX `R0290091_idx` (`CD_COMPONENTE` ASC),
  INDEX `R0290052_idx` (`ST_INCIDENCIA` ASC),
  INDEX `R0290153_idx` (`CD_PRIORIDAD` ASC),
  INDEX `R0290114_idx` (`CD_USU_PETICION` ASC),
  INDEX `R0290195_idx` (`CD_ORIGEN` ASC),
  CONSTRAINT `R0290091`
    FOREIGN KEY (`CD_COMPONENTE`)
    REFERENCES `GESTION_FACTORIA`.`THGE009_COMPONENTE` (`CD_COMPONENTE`)
    ON DELETE NO ACTION
    ON UPDATE NO ACTION,
  CONSTRAINT `R0290052`
    FOREIGN KEY (`ST_INCIDENCIA`)
    REFERENCES `GESTION_FACTORIA`.`THGE005_ESTADO` (`CD_ESTADO`)
    ON DELETE NO ACTION
    ON UPDATE NO ACTION,
  CONSTRAINT `R0290153`
    FOREIGN KEY (`CD_PRIORIDAD`)
    REFERENCES `GESTION_FACTORIA`.`THGE015_PRIORIDAD` (`CD_PRIORIDAD`)
    ON DELETE NO ACTION
    ON UPDATE NO ACTION,
  CONSTRAINT `R0290114`
    FOREIGN KEY (`CD_USU_PETICION`)
    REFERENCES `GESTION_FACTORIA`.`THGE011_USUARIO` (`CD_USUARIO_CORP`)
    ON DELETE NO ACTION
    ON UPDATE NO ACTION,
  CONSTRAINT `R0290195`
    FOREIGN KEY (`CD_ORIGEN`)
    REFERENCES `GESTION_FACTORIA`.`THGE019_ORIGEN` (`CD_ORIGEN`)
    ON DELETE NO ACTION
    ON UPDATE NO ACTION)
ENGINE = InnoDB;


-- -----------------------------------------------------
-- Table `GESTION_FACTORIA`.`THGE031_TARIFA`
-- -----------------------------------------------------
DROP TABLE IF EXISTS `GESTION_FACTORIA`.`THGE031_TARIFA` ;

CREATE TABLE IF NOT EXISTS `GESTION_FACTORIA`.`THGE031_TARIFA` (
  `CD_TARIFA` INT(4) NOT NULL AUTO_INCREMENT,
  `IM_TARIFA` DOUBLE NOT NULL,
  `NU_ANO_TARIFA` INT(4) NOT NULL,
  `CD_EMPRESA` INT(4) NOT NULL,
  `CD_TECNOLOGIA` INT(4) NOT NULL,
  `CD_AREA` INT(4) NOT NULL,
  `ST_TARIFA` INT(4) NOT NULL,
  PRIMARY KEY (`CD_TARIFA`),
  INDEX `R0310031_idx` (`CD_EMPRESA` ASC),
  INDEX `R0310022_idx` (`CD_TECNOLOGIA` ASC),
  INDEX `R0310303_idx` (`CD_AREA` ASC),
  INDEX `R0310054_idx` (`ST_TARIFA` ASC),
  CONSTRAINT `R0310031`
    FOREIGN KEY (`CD_EMPRESA`)
    REFERENCES `GESTION_FACTORIA`.`THGE003_EMPRESA` (`CD_EMPRESA`)
    ON DELETE NO ACTION
    ON UPDATE NO ACTION,
  CONSTRAINT `R0310022`
    FOREIGN KEY (`CD_TECNOLOGIA`)
    REFERENCES `GESTION_FACTORIA`.`THGE002_TECNOLOGIA` (`CD_TECNOLOGIA`)
    ON DELETE NO ACTION
    ON UPDATE NO ACTION,
  CONSTRAINT `R0310303`
    FOREIGN KEY (`CD_AREA`)
    REFERENCES `GESTION_FACTORIA`.`THGE030_AREA` (`CD_AREA`)
    ON DELETE NO ACTION
    ON UPDATE NO ACTION,
  CONSTRAINT `R0310054`
    FOREIGN KEY (`ST_TARIFA`)
    REFERENCES `GESTION_FACTORIA`.`THGE005_ESTADO` (`CD_ESTADO`)
    ON DELETE NO ACTION
    ON UPDATE NO ACTION)
ENGINE = InnoDB;


-- -----------------------------------------------------
-- Table `GESTION_FACTORIA`.`THGE032_TIPO_CONT`
-- -----------------------------------------------------
DROP TABLE IF EXISTS `GESTION_FACTORIA`.`THGE032_TIPO_CONT` ;

CREATE TABLE IF NOT EXISTS `GESTION_FACTORIA`.`THGE032_TIPO_CONT` (
  `CD_TIPO_CONTRATO` INT(4) NOT NULL AUTO_INCREMENT,
  `NB_TIPO_CONTRATO` VARCHAR(25) NOT NULL,
  PRIMARY KEY (`CD_TIPO_CONTRATO`),
  UNIQUE INDEX `NB_TIPO_CONTRATO_UNIQUE` (`NB_TIPO_CONTRATO` ASC))
ENGINE = InnoDB;


-- -----------------------------------------------------
-- Table `GESTION_FACTORIA`.`THGE033_TIPO_ASIG`
-- -----------------------------------------------------
DROP TABLE IF EXISTS `GESTION_FACTORIA`.`THGE033_TIPO_ASIG` ;

CREATE TABLE IF NOT EXISTS `GESTION_FACTORIA`.`THGE033_TIPO_ASIG` (
  `CD_TIPO_ASIG` INT(4) NOT NULL AUTO_INCREMENT,
  `NB_TIPO_ASIG` VARCHAR(25) NOT NULL,
  PRIMARY KEY (`CD_TIPO_ASIG`),
  UNIQUE INDEX `NB_TIPO_ASIG_UNIQUE` (`NB_TIPO_ASIG` ASC))
ENGINE = InnoDB;


-- -----------------------------------------------------
-- Table `GESTION_FACTORIA`.`THGE036_CONTRATO`
-- -----------------------------------------------------
DROP TABLE IF EXISTS `GESTION_FACTORIA`.`THGE036_CONTRATO` ;

CREATE TABLE IF NOT EXISTS `GESTION_FACTORIA`.`THGE036_CONTRATO` (
  `CD_CONTRATO` INT(4) NOT NULL AUTO_INCREMENT,
  `NU_POSICION` INT(4) NULL,
  `NU_ANO_CONTRATO` INT(4) NOT NULL,
  `CD_PEDIDO` VARCHAR(10) NULL,
  `ST_CONTRATO` INT(4) NOT NULL,
  `CD_EMPRESA` INT(4) NOT NULL,
  `CD_AREA` INT(4) NOT NULL,
  `CD_ENTIDAD` INT(4) NOT NULL,
  `CD_NATURALEZA` INT(4) NOT NULL,
  `CD_TECNOLOGIA` INT(4) NOT NULL,
  PRIMARY KEY (`CD_CONTRATO`),
  INDEX `R0360031_idx` (`CD_EMPRESA` ASC),
  INDEX `R0360302_idx` (`CD_AREA` ASC),
  INDEX `R0360373_idx` (`CD_ENTIDAD` ASC),
  INDEX `R0360384_idx` (`CD_NATURALEZA` ASC),
  INDEX `R0360025_idx` (`CD_TECNOLOGIA` ASC),
  INDEX `R0360056_idx` (`ST_CONTRATO` ASC),
  UNIQUE INDEX `CD_NATURALEZA_UNIQUE` (`CD_NATURALEZA` ASC),
  CONSTRAINT `R0360031`
    FOREIGN KEY (`CD_EMPRESA`)
    REFERENCES `GESTION_FACTORIA`.`THGE003_EMPRESA` (`CD_EMPRESA`)
    ON DELETE NO ACTION
    ON UPDATE NO ACTION,
  CONSTRAINT `R0360302`
    FOREIGN KEY (`CD_AREA`)
    REFERENCES `GESTION_FACTORIA`.`THGE030_AREA` (`CD_AREA`)
    ON DELETE NO ACTION
    ON UPDATE NO ACTION,
  CONSTRAINT `R0360373`
    FOREIGN KEY (`CD_ENTIDAD`)
    REFERENCES `GESTION_FACTORIA`.`THGE037_ENTIDAD` (`CD_ENTIDAD`)
    ON DELETE NO ACTION
    ON UPDATE NO ACTION,
  CONSTRAINT `R0360384`
    FOREIGN KEY (`CD_NATURALEZA`)
    REFERENCES `GESTION_FACTORIA`.`THGE038_NATURALEZA` (`CD_NATURALEZA`)
    ON DELETE NO ACTION
    ON UPDATE NO ACTION,
  CONSTRAINT `R0360025`
    FOREIGN KEY (`CD_TECNOLOGIA`)
    REFERENCES `GESTION_FACTORIA`.`THGE002_TECNOLOGIA` (`CD_TECNOLOGIA`)
    ON DELETE NO ACTION
    ON UPDATE NO ACTION,
  CONSTRAINT `R0360056`
    FOREIGN KEY (`ST_CONTRATO`)
    REFERENCES `GESTION_FACTORIA`.`THGE005_ESTADO` (`CD_ESTADO`)
    ON DELETE NO ACTION
    ON UPDATE NO ACTION)
ENGINE = InnoDB;


-- -----------------------------------------------------
-- Table `GESTION_FACTORIA`.`THGE040_PEP_REQ`
-- -----------------------------------------------------
DROP TABLE IF EXISTS `GESTION_FACTORIA`.`THGE040_PEP_REQ` ;

CREATE TABLE IF NOT EXISTS `GESTION_FACTORIA`.`THGE040_PEP_REQ` (
  `CD_PEP_REQ` INT(12) NOT NULL AUTO_INCREMENT,
  `IM_PEP` DOUBLE NULL,
  `HM_PEP` DOUBLE NULL,
  `TM_PEP_REQ` TIMESTAMP(0) NULL DEFAULT CURRENT_TIMESTAMP,
  `ST_FACTURADO` TINYINT(1) NULL,
  `CD_PEP` CHAR(15) NOT NULL,
  `CD_REQUERIMIENTO` INT(12) NOT NULL,
  PRIMARY KEY (`CD_PEP_REQ`),
  INDEX `R0400071_idx` (`CD_PEP` ASC),
  INDEX `R0400172_idx` (`CD_REQUERIMIENTO` ASC),
  CONSTRAINT `R0400071`
    FOREIGN KEY (`CD_PEP`)
    REFERENCES `GESTION_FACTORIA`.`THGE007_PEP` (`CD_PEP`)
    ON DELETE NO ACTION
    ON UPDATE NO ACTION,
  CONSTRAINT `R0400172`
    FOREIGN KEY (`CD_REQUERIMIENTO`)
    REFERENCES `GESTION_FACTORIA`.`THGE017_REQUERIM` (`CD_REQUERIMIENTO`)
    ON DELETE NO ACTION
    ON UPDATE NO ACTION)
ENGINE = InnoDB;


-- -----------------------------------------------------
-- Table `GESTION_FACTORIA`.`THGE039_FACTURA`
-- -----------------------------------------------------
DROP TABLE IF EXISTS `GESTION_FACTORIA`.`THGE039_FACTURA` ;

CREATE TABLE IF NOT EXISTS `GESTION_FACTORIA`.`THGE039_FACTURA` (
  `CD_FACTURA` INT(4) NOT NULL AUTO_INCREMENT,
  `FH_CORTE` DATE NOT NULL,
  `IM_TARIFA` DOUBLE NOT NULL,
  `IM_MONTO` DOUBLE NULL,
  `TX_ACTIVO_FIJO` CHAR(12) NULL,
  `CD_CTA_OPER` INT(4) NULL,
  `TX_AVISO_PROV` VARCHAR(50) NULL,
  `FH_ENVIO_IMPLANT` DATE NULL,
  `NB_GLG` CHAR(23) NULL,
  `FH_REG_PAGO_GEST` DATE NULL,
  `TX_OBSERVACION` VARCHAR(500) NULL,
  `NU_FACT_PROV` VARCHAR(50) NULL,
  `IM_FACT` DOUBLE NULL,
  `FH_INGRESO_FACT` DATE NULL,
  `TX_VIA_INGRESO` VARCHAR(25) NULL,
  `TX_SEM_PRES_SUF` INT(1) NULL,
  `TX_SEM_PER_SUBD` INT(1) NULL,
  `TX_SEM_TP_PRES` INT(1) NULL,
  `TX_SEM_SUBD_CORR` INT(1) NULL,
  `CD_REQUERIMIENTO` INT(12) NOT NULL,
  `CD_PEP_REQ` INT(12) NOT NULL,
  `ST_PEP_FACT` INT(4) NOT NULL,
  `ST_PAGO` INT(4) NOT NULL,
  `ST_FACT_HRS_PROY` INT(4) NOT NULL,
  PRIMARY KEY (`CD_FACTURA`),
  INDEX `R0390171_idx` (`CD_REQUERIMIENTO` ASC),
  INDEX `R0390402_idx` (`CD_PEP_REQ` ASC),
  INDEX `R0390053_idx` (`ST_PEP_FACT` ASC),
  INDEX `R0390054_idx` (`ST_PAGO` ASC),
  INDEX `R0390055_idx` (`ST_FACT_HRS_PROY` ASC),
  CONSTRAINT `R0390171`
    FOREIGN KEY (`CD_REQUERIMIENTO`)
    REFERENCES `GESTION_FACTORIA`.`THGE017_REQUERIM` (`CD_REQUERIMIENTO`)
    ON DELETE NO ACTION
    ON UPDATE NO ACTION,
  CONSTRAINT `R0390402`
    FOREIGN KEY (`CD_PEP_REQ`)
    REFERENCES `GESTION_FACTORIA`.`THGE040_PEP_REQ` (`CD_PEP_REQ`)
    ON DELETE NO ACTION
    ON UPDATE NO ACTION,
  CONSTRAINT `R0390053`
    FOREIGN KEY (`ST_PEP_FACT`)
    REFERENCES `GESTION_FACTORIA`.`THGE005_ESTADO` (`CD_ESTADO`)
    ON DELETE NO ACTION
    ON UPDATE NO ACTION,
  CONSTRAINT `R0390054`
    FOREIGN KEY (`ST_PAGO`)
    REFERENCES `GESTION_FACTORIA`.`THGE005_ESTADO` (`CD_ESTADO`)
    ON DELETE NO ACTION
    ON UPDATE NO ACTION,
  CONSTRAINT `R0390055`
    FOREIGN KEY (`ST_FACT_HRS_PROY`)
    REFERENCES `GESTION_FACTORIA`.`THGE005_ESTADO` (`CD_ESTADO`)
    ON DELETE NO ACTION
    ON UPDATE NO ACTION)
ENGINE = InnoDB;


-- -----------------------------------------------------
-- Table `GESTION_FACTORIA`.`THGE041_SEG_PAGO`
-- -----------------------------------------------------
DROP TABLE IF EXISTS `GESTION_FACTORIA`.`THGE041_SEG_PAGO` ;

CREATE TABLE IF NOT EXISTS `GESTION_FACTORIA`.`THGE041_SEG_PAGO` (
  `CD_SEG_PAGO` CHAR(10) NOT NULL,
  `NU_POS_SOL_PEDIDO` INT(4) NULL,
  `NU_PEDIDO` CHAR(10) NULL,
  `NU_POSICION_PED` INT(4) NULL,
  `NU_HOJA_ENTRADA` CHAR(10) NULL,
  `NU_RECEPCION` CHAR(10) NOT NULL,
  `FH_RECEPCION` DATE NULL,
  `FH_AVISO_PROV` DATE NULL,
  `CD_FACTURA` INT(4) NOT NULL,
  PRIMARY KEY (`CD_SEG_PAGO`),
  UNIQUE INDEX `THGE041_SEG_PAGOcol_UNIQUE` (`CD_SEG_PAGO` ASC),
  INDEX `R0410391_idx` (`CD_FACTURA` ASC),
  CONSTRAINT `R0410391`
    FOREIGN KEY (`CD_FACTURA`)
    REFERENCES `GESTION_FACTORIA`.`THGE039_FACTURA` (`CD_FACTURA`)
    ON DELETE NO ACTION
    ON UPDATE NO ACTION)
ENGINE = InnoDB;


-- -----------------------------------------------------
-- Table `GESTION_FACTORIA`.`THGE043_CRITICIDAD`
-- -----------------------------------------------------
DROP TABLE IF EXISTS `GESTION_FACTORIA`.`THGE043_CRITICIDAD` ;

CREATE TABLE IF NOT EXISTS `GESTION_FACTORIA`.`THGE043_CRITICIDAD` (
  `CD_CRITICIDAD` INT(4) NOT NULL AUTO_INCREMENT,
  `NB_CRITICIDAD` VARCHAR(10) NOT NULL,
  PRIMARY KEY (`CD_CRITICIDAD`),
  UNIQUE INDEX `NB_CRITICIDAD_UNIQUE` (`NB_CRITICIDAD` ASC))
ENGINE = InnoDB;


-- -----------------------------------------------------
-- Table `GESTION_FACTORIA`.`THGE042_T926`
-- -----------------------------------------------------
DROP TABLE IF EXISTS `GESTION_FACTORIA`.`THGE042_T926` ;

CREATE TABLE IF NOT EXISTS `GESTION_FACTORIA`.`THGE042_T926` (
  `CD_T926` INT(12) NOT NULL AUTO_INCREMENT,
  `CD_FUNCION` VARCHAR(5) NOT NULL,
  `NB_FUNCION` VARCHAR(120) NOT NULL,
  `NU_DEFECTO_ESTIM` INT(4) NULL,
  `NU_CASO_ESTIM` INT(4) NULL,
  `NU_DEFECTO_REAL` INT(4) NULL,
  `CD_CRITICIDAD` INT(4) NULL,
  `CD_REQUERIMIENTO` INT(12) NOT NULL,
  PRIMARY KEY (`CD_T926`),
  INDEX `R0420171_idx` (`CD_REQUERIMIENTO` ASC),
  INDEX `R0420432_idx` (`CD_CRITICIDAD` ASC),
  CONSTRAINT `R0420171`
    FOREIGN KEY (`CD_REQUERIMIENTO`)
    REFERENCES `GESTION_FACTORIA`.`THGE017_REQUERIM` (`CD_REQUERIMIENTO`)
    ON DELETE NO ACTION
    ON UPDATE NO ACTION,
  CONSTRAINT `R0420432`
    FOREIGN KEY (`CD_CRITICIDAD`)
    REFERENCES `GESTION_FACTORIA`.`THGE043_CRITICIDAD` (`CD_CRITICIDAD`)
    ON DELETE NO ACTION
    ON UPDATE NO ACTION)
ENGINE = InnoDB;


-- -----------------------------------------------------
-- Table `GESTION_FACTORIA`.`THGE045_PRIORIDAD_CP`
-- -----------------------------------------------------
DROP TABLE IF EXISTS `GESTION_FACTORIA`.`THGE045_PRIORIDAD_CP` ;

CREATE TABLE IF NOT EXISTS `GESTION_FACTORIA`.`THGE045_PRIORIDAD_CP` (
  `CD_PRIORIDAD_CP` INT(4) NOT NULL AUTO_INCREMENT,
  `NB_PRIORIDAD_CP` VARCHAR(25) NOT NULL,
  PRIMARY KEY (`CD_PRIORIDAD_CP`),
  UNIQUE INDEX `NB_PRIORIDAD_CP_UNIQUE` (`NB_PRIORIDAD_CP` ASC))
ENGINE = InnoDB;


-- -----------------------------------------------------
-- Table `GESTION_FACTORIA`.`THGE046_CAT_CASO`
-- -----------------------------------------------------
DROP TABLE IF EXISTS `GESTION_FACTORIA`.`THGE046_CAT_CASO` ;

CREATE TABLE IF NOT EXISTS `GESTION_FACTORIA`.`THGE046_CAT_CASO` (
  `CD_CATEGORIA_CASO` INT NOT NULL AUTO_INCREMENT,
  `NB_CATEGORIA_CASO` VARCHAR(50) NOT NULL,
  PRIMARY KEY (`CD_CATEGORIA_CASO`),
  UNIQUE INDEX `NB_CATEGORIA_CASO_UNIQUE` (`NB_CATEGORIA_CASO` ASC))
ENGINE = InnoDB;


-- -----------------------------------------------------
-- Table `GESTION_FACTORIA`.`THGE047_RESULT_OBT`
-- -----------------------------------------------------
DROP TABLE IF EXISTS `GESTION_FACTORIA`.`THGE047_RESULT_OBT` ;

CREATE TABLE IF NOT EXISTS `GESTION_FACTORIA`.`THGE047_RESULT_OBT` (
  `CD_RESUL_OBTENIDO` INT(4) NOT NULL AUTO_INCREMENT,
  `NB_RESUL_ONTENIDO` VARCHAR(25) NOT NULL,
  PRIMARY KEY (`CD_RESUL_OBTENIDO`),
  UNIQUE INDEX `NB_RESUL_ONTENIDO_UNIQUE` (`NB_RESUL_ONTENIDO` ASC))
ENGINE = InnoDB;


-- -----------------------------------------------------
-- Table `GESTION_FACTORIA`.`THGE044_C204`
-- -----------------------------------------------------
DROP TABLE IF EXISTS `GESTION_FACTORIA`.`THGE044_C204` ;

CREATE TABLE IF NOT EXISTS `GESTION_FACTORIA`.`THGE044_C204` (
  `CD_C204` INT(12) NOT NULL AUTO_INCREMENT,
  `CD_CASO_PRUEBA` VARCHAR(12) NOT NULL,
  `TX_COND_DTO_ENTR` VARCHAR(200) NULL,
  `NB_DESC_CASO` VARCHAR(1000) NULL,
  `NB_RESULT_ESP` BLOB NULL,
  `TX_EVIDENCIA_PBA` BLOB NULL,
  `CD_RESUL_OBTENIDO` INT(4) NULL,
  `CD_T926` INT(12) NULL,
  `CD_PRIORIDAD_CP` INT(4) NOT NULL,
  `CD_CATEGORIA_CASO` INT(4) NOT NULL,
  PRIMARY KEY (`CD_C204`),
  INDEX `R0440451_idx` (`CD_PRIORIDAD_CP` ASC),
  INDEX `R0440462_idx` (`CD_CATEGORIA_CASO` ASC),
  INDEX `R0440473_idx` (`CD_RESUL_OBTENIDO` ASC),
  INDEX `R0440424_idx` (`CD_T926` ASC),
  CONSTRAINT `R0440451`
    FOREIGN KEY (`CD_PRIORIDAD_CP`)
    REFERENCES `GESTION_FACTORIA`.`THGE045_PRIORIDAD_CP` (`CD_PRIORIDAD_CP`)
    ON DELETE NO ACTION
    ON UPDATE NO ACTION,
  CONSTRAINT `R0440462`
    FOREIGN KEY (`CD_CATEGORIA_CASO`)
    REFERENCES `GESTION_FACTORIA`.`THGE046_CAT_CASO` (`CD_CATEGORIA_CASO`)
    ON DELETE NO ACTION
    ON UPDATE NO ACTION,
  CONSTRAINT `R0440473`
    FOREIGN KEY (`CD_RESUL_OBTENIDO`)
    REFERENCES `GESTION_FACTORIA`.`THGE047_RESULT_OBT` (`CD_RESUL_OBTENIDO`)
    ON DELETE NO ACTION
    ON UPDATE NO ACTION,
  CONSTRAINT `R0440424`
    FOREIGN KEY (`CD_T926`)
    REFERENCES `GESTION_FACTORIA`.`THGE042_T926` (`CD_T926`)
    ON DELETE NO ACTION
    ON UPDATE NO ACTION)
ENGINE = InnoDB;


-- -----------------------------------------------------
-- Table `GESTION_FACTORIA`.`THGE049_ENTORNO`
-- -----------------------------------------------------
DROP TABLE IF EXISTS `GESTION_FACTORIA`.`THGE049_ENTORNO` ;

CREATE TABLE IF NOT EXISTS `GESTION_FACTORIA`.`THGE049_ENTORNO` (
  `CD_ENTORNO` INT(4) NOT NULL AUTO_INCREMENT,
  `NB_ENTORNO` VARCHAR(25) NOT NULL,
  PRIMARY KEY (`CD_ENTORNO`),
  UNIQUE INDEX `NB_ENTORNO_UNIQUE` (`NB_ENTORNO` ASC))
ENGINE = InnoDB;


-- -----------------------------------------------------
-- Table `GESTION_FACTORIA`.`THGE050_SEVERIDAD`
-- -----------------------------------------------------
DROP TABLE IF EXISTS `GESTION_FACTORIA`.`THGE050_SEVERIDAD` ;

CREATE TABLE IF NOT EXISTS `GESTION_FACTORIA`.`THGE050_SEVERIDAD` (
  `CD_SEVERIDAD` INT(4) NOT NULL AUTO_INCREMENT,
  `NB_SEVERIDAD` VARCHAR(25) NOT NULL,
  PRIMARY KEY (`CD_SEVERIDAD`),
  UNIQUE INDEX `NB_SEVERIDAD_UNIQUE` (`NB_SEVERIDAD` ASC))
ENGINE = InnoDB;


-- -----------------------------------------------------
-- Table `GESTION_FACTORIA`.`THGE051_AC_RES_COR`
-- -----------------------------------------------------
DROP TABLE IF EXISTS `GESTION_FACTORIA`.`THGE051_AC_RES_COR` ;

CREATE TABLE IF NOT EXISTS `GESTION_FACTORIA`.`THGE051_AC_RES_COR` (
  `CD_ACEPTA_RES_COR` INT(4) NOT NULL AUTO_INCREMENT,
  `NB_ACEPTA_RES_COR` VARCHAR(25) NOT NULL,
  PRIMARY KEY (`CD_ACEPTA_RES_COR`),
  UNIQUE INDEX `CD_ACEPTA_RES_COR_UNIQUE` (`CD_ACEPTA_RES_COR` ASC),
  UNIQUE INDEX `NB_ACEPTA_RES_COR_UNIQUE` (`NB_ACEPTA_RES_COR` ASC))
ENGINE = InnoDB;


-- -----------------------------------------------------
-- Table `GESTION_FACTORIA`.`THGE052_CAUSA_RECH`
-- -----------------------------------------------------
DROP TABLE IF EXISTS `GESTION_FACTORIA`.`THGE052_CAUSA_RECH` ;

CREATE TABLE IF NOT EXISTS `GESTION_FACTORIA`.`THGE052_CAUSA_RECH` (
  `CD_CAUSA_RECHAZO` INT(4) NOT NULL AUTO_INCREMENT,
  `NB_CAUSA_RECHAZO` VARCHAR(50) NOT NULL,
  PRIMARY KEY (`CD_CAUSA_RECHAZO`),
  UNIQUE INDEX `CD_CAUSA_RECHAZO_UNIQUE` (`CD_CAUSA_RECHAZO` ASC),
  UNIQUE INDEX `NB_CAUSA_RECHAZO_UNIQUE` (`NB_CAUSA_RECHAZO` ASC))
ENGINE = InnoDB;


-- -----------------------------------------------------
-- Table `GESTION_FACTORIA`.`THGE048_T955`
-- -----------------------------------------------------
DROP TABLE IF EXISTS `GESTION_FACTORIA`.`THGE048_T955` ;

CREATE TABLE IF NOT EXISTS `GESTION_FACTORIA`.`THGE048_T955` (
  `CD_DEFECTO` INT(12) NOT NULL,
  `CD_REQUERIMIENTO` INT(12) NOT NULL,
  `TX_NIVEL_PBA` VARCHAR(50) NOT NULL,
  `FH_IDENTIFICACION` DATE NOT NULL,
  `TX_MODULO_PAQ` VARCHAR(50) NULL,
  `TX_EVIDENCIA_PBA` BLOB NULL,
  `NB_DESC_HALLAZGO` VARCHAR(500) NULL,
  `TX_RESUL_ESPERADO` VARCHAR(500) NULL,
  `TX_COM_AREA_RESOL` VARCHAR(500) NULL,
  `FH_ATENC_PREV` DATE NULL,
  `NU_PERIODO_CORREC` INT(4) NULL,
  `TX_COMENT_F_PBA` VARCHAR(500) NULL,
  `FH_SOLIC_VERIF` DATE NULL,
  `FH_REAL_CIERRE` DATE NULL,
  `CD_ACEPTA_RES_COR` INT(4) NULL,
  `CD_CAUSA_RECHAZO` INT(4) NULL,
  `CD_CAUSA_CIERRE` INT(4) NULL,
  `CD_RESULT_VERIF` INT(4) NULL,
  `CD_ENTORNO` INT(4) NOT NULL,
  `CD_USUARIO_RESP` VARCHAR(10) NOT NULL,
  `CD_T926` INT(12) NOT NULL,
  `CD_SEVERIDAD` INT(4) NOT NULL,
  `CD_C204` INT(12) NOT NULL,
  `CD_EDO_DEFECTO` INT(4) NOT NULL,
  PRIMARY KEY (`CD_DEFECTO`, `CD_REQUERIMIENTO`),
  INDEX `R0480171_idx` (`CD_REQUERIMIENTO` ASC),
  INDEX `R0480492_idx` (`CD_ENTORNO` ASC),
  INDEX `R0480113_idx` (`CD_USUARIO_RESP` ASC),
  INDEX `R0480424_idx` (`CD_T926` ASC),
  INDEX `R0480505_idx` (`CD_SEVERIDAD` ASC),
  INDEX `R0480446_idx` (`CD_C204` ASC),
  INDEX `R0480517_idx` (`CD_ACEPTA_RES_COR` ASC),
  INDEX `R0480528_idx` (`CD_CAUSA_RECHAZO` ASC),
  INDEX `R04800511_idx` (`CD_EDO_DEFECTO` ASC),
  CONSTRAINT `R0480171`
    FOREIGN KEY (`CD_REQUERIMIENTO`)
    REFERENCES `GESTION_FACTORIA`.`THGE017_REQUERIM` (`CD_REQUERIMIENTO`)
    ON DELETE NO ACTION
    ON UPDATE NO ACTION,
  CONSTRAINT `R0480492`
    FOREIGN KEY (`CD_ENTORNO`)
    REFERENCES `GESTION_FACTORIA`.`THGE049_ENTORNO` (`CD_ENTORNO`)
    ON DELETE NO ACTION
    ON UPDATE NO ACTION,
  CONSTRAINT `R0480113`
    FOREIGN KEY (`CD_USUARIO_RESP`)
    REFERENCES `GESTION_FACTORIA`.`THGE011_USUARIO` (`CD_USUARIO_CORP`)
    ON DELETE NO ACTION
    ON UPDATE NO ACTION,
  CONSTRAINT `R0480424`
    FOREIGN KEY (`CD_T926`)
    REFERENCES `GESTION_FACTORIA`.`THGE042_T926` (`CD_T926`)
    ON DELETE NO ACTION
    ON UPDATE NO ACTION,
  CONSTRAINT `R0480505`
    FOREIGN KEY (`CD_SEVERIDAD`)
    REFERENCES `GESTION_FACTORIA`.`THGE050_SEVERIDAD` (`CD_SEVERIDAD`)
    ON DELETE NO ACTION
    ON UPDATE NO ACTION,
  CONSTRAINT `R0480446`
    FOREIGN KEY (`CD_C204`)
    REFERENCES `GESTION_FACTORIA`.`THGE044_C204` (`CD_C204`)
    ON DELETE NO ACTION
    ON UPDATE NO ACTION,
  CONSTRAINT `R0480517`
    FOREIGN KEY (`CD_ACEPTA_RES_COR`)
    REFERENCES `GESTION_FACTORIA`.`THGE051_AC_RES_COR` (`CD_ACEPTA_RES_COR`)
    ON DELETE NO ACTION
    ON UPDATE NO ACTION,
  CONSTRAINT `R0480528`
    FOREIGN KEY (`CD_CAUSA_RECHAZO`)
    REFERENCES `GESTION_FACTORIA`.`THGE052_CAUSA_RECH` (`CD_CAUSA_RECHAZO`)
    ON DELETE NO ACTION
    ON UPDATE NO ACTION,
  CONSTRAINT `R04800511`
    FOREIGN KEY (`CD_EDO_DEFECTO`)
    REFERENCES `GESTION_FACTORIA`.`THGE005_ESTADO` (`CD_ESTADO`)
    ON DELETE NO ACTION
    ON UPDATE NO ACTION)
ENGINE = InnoDB;


-- -----------------------------------------------------
-- Table `GESTION_FACTORIA`.`THGE053_CAUSA_CIER`
-- -----------------------------------------------------
DROP TABLE IF EXISTS `GESTION_FACTORIA`.`THGE053_CAUSA_CIER` ;

CREATE TABLE IF NOT EXISTS `GESTION_FACTORIA`.`THGE053_CAUSA_CIER` (
  `CD_CAUSA_CIERRE` INT(4) NOT NULL AUTO_INCREMENT,
  `NB_CAUSA_CIERRE` VARCHAR(25) NOT NULL,
  PRIMARY KEY (`CD_CAUSA_CIERRE`),
  UNIQUE INDEX `CD_CAUSA_CIERRE_UNIQUE` (`CD_CAUSA_CIERRE` ASC),
  UNIQUE INDEX `NB_CAUSA_CIERRE_UNIQUE` (`NB_CAUSA_CIERRE` ASC))
ENGINE = InnoDB;


-- -----------------------------------------------------
-- Table `GESTION_FACTORIA`.`THGE054_RES_VERIF`
-- -----------------------------------------------------
DROP TABLE IF EXISTS `GESTION_FACTORIA`.`THGE054_RES_VERIF` ;

CREATE TABLE IF NOT EXISTS `GESTION_FACTORIA`.`THGE054_RES_VERIF` (
  `CD_RESULT_VERIF` INT(4) NOT NULL AUTO_INCREMENT,
  `NB_RESULT_VERIF` VARCHAR(25) NOT NULL,
  PRIMARY KEY (`CD_RESULT_VERIF`),
  UNIQUE INDEX `CD_RESULT_VERIF_UNIQUE` (`CD_RESULT_VERIF` ASC),
  UNIQUE INDEX `NB_RESULT_VERIF_UNIQUE` (`NB_RESULT_VERIF` ASC))
ENGINE = InnoDB;


-- -----------------------------------------------------
-- Table `GESTION_FACTORIA`.`THGE055_CTA_OPER`
-- -----------------------------------------------------
DROP TABLE IF EXISTS `GESTION_FACTORIA`.`THGE055_CTA_OPER` ;

CREATE TABLE IF NOT EXISTS `GESTION_FACTORIA`.`THGE055_CTA_OPER` (
  `CD_CTA_OPER` INT(4) NOT NULL AUTO_INCREMENT,
  `NU_CTA_OPERATIVA` CHAR(8) NOT NULL,
  PRIMARY KEY (`CD_CTA_OPER`),
  UNIQUE INDEX `CD_CTA_OPER_UNIQUE` (`CD_CTA_OPER` ASC),
  UNIQUE INDEX `NU_CTA_OPERATIVA_UNIQUE` (`NU_CTA_OPERATIVA` ASC))
ENGINE = InnoDB;


-- -----------------------------------------------------
-- Table `GESTION_FACTORIA`.`THGE058_CTRL_ACC`
-- -----------------------------------------------------
DROP TABLE IF EXISTS `GESTION_FACTORIA`.`THGE058_CTRL_ACC` ;

CREATE TABLE IF NOT EXISTS `GESTION_FACTORIA`.`THGE058_CTRL_ACC` (
  `CD_ACCESO` INT(9) NOT NULL AUTO_INCREMENT,
  `CD_EXTERNO` INT(9) NOT NULL,
  `FH_VIG_ACC_LOG` DATE NOT NULL,
  `FH_VIG_ACC_FIS` DATE NOT NULL,
  `ST_ACCESO_FIS` INT(4) NOT NULL,
  `CD_SEDE` INT(9) NOT NULL,
  `ST_ACCESO_LOG` INT(4) NOT NULL,
  PRIMARY KEY (`CD_ACCESO`),
  INDEX `R0580251_idx` (`CD_SEDE` ASC),
  INDEX `R0580052_idx` (`ST_ACCESO_LOG` ASC),
  CONSTRAINT `R0580251`
    FOREIGN KEY (`CD_SEDE`)
    REFERENCES `GESTION_FACTORIA`.`THGE025_SEDE` (`CD_SEDE`)
    ON DELETE NO ACTION
    ON UPDATE NO ACTION,
  CONSTRAINT `R0580052`
    FOREIGN KEY (`ST_ACCESO_LOG`)
    REFERENCES `GESTION_FACTORIA`.`THGE005_ESTADO` (`CD_ESTADO`)
    ON DELETE NO ACTION
    ON UPDATE NO ACTION)
ENGINE = InnoDB;


-- -----------------------------------------------------
-- Table `GESTION_FACTORIA`.`THGE062_EVAL_SERV`
-- -----------------------------------------------------
DROP TABLE IF EXISTS `GESTION_FACTORIA`.`THGE062_EVAL_SERV` ;

CREATE TABLE IF NOT EXISTS `GESTION_FACTORIA`.`THGE062_EVAL_SERV` (
  `FH_INICIO` DATE NOT NULL,
  `FH_FIN` DATE NOT NULL,
  `TO_CALIF` VARCHAR(45) NOT NULL,
  `CD_EMPRESA` INT(4) NOT NULL,
  `CD_TECNOLOGIA` INT(4) NOT NULL,
  PRIMARY KEY (`FH_INICIO`, `FH_FIN`),
  INDEX `R0620022_idx` (`CD_TECNOLOGIA` ASC),
  CONSTRAINT `R0620031`
    FOREIGN KEY (`CD_EMPRESA`)
    REFERENCES `GESTION_FACTORIA`.`THGE003_EMPRESA` (`CD_EMPRESA`)
    ON DELETE NO ACTION
    ON UPDATE NO ACTION,
  CONSTRAINT `R0620022`
    FOREIGN KEY (`CD_TECNOLOGIA`)
    REFERENCES `GESTION_FACTORIA`.`THGE002_TECNOLOGIA` (`CD_TECNOLOGIA`)
    ON DELETE NO ACTION
    ON UPDATE NO ACTION)
ENGINE = InnoDB;


-- -----------------------------------------------------
-- Table `GESTION_FACTORIA`.`THGE060_TP_METRICA`
-- -----------------------------------------------------
DROP TABLE IF EXISTS `GESTION_FACTORIA`.`THGE060_TP_METRICA` ;

CREATE TABLE IF NOT EXISTS `GESTION_FACTORIA`.`THGE060_TP_METRICA` (
  `CD_TP_METRICA` INT(4) NOT NULL AUTO_INCREMENT,
  `NB_TP_METRICA` VARCHAR(25) NOT NULL,
  PRIMARY KEY (`CD_TP_METRICA`),
  UNIQUE INDEX `NB_TP_METRICA_UNIQUE` (`NB_TP_METRICA` ASC))
ENGINE = InnoDB;


-- -----------------------------------------------------
-- Table `GESTION_FACTORIA`.`THGE061_METRICA`
-- -----------------------------------------------------
DROP TABLE IF EXISTS `GESTION_FACTORIA`.`THGE061_METRICA` ;

CREATE TABLE IF NOT EXISTS `GESTION_FACTORIA`.`THGE061_METRICA` (
  `CD_METRICA` INT(4) NOT NULL AUTO_INCREMENT,
  `NB_METRICA` VARCHAR(50) NOT NULL,
  `FA_LMT_INF` FLOAT NULL,
  `FA_LMT_SUP` FLOAT NULL,
  `FA_MEDIA` FLOAT NULL,
  `CD_TP_METRICA` INT(4) NOT NULL,
  PRIMARY KEY (`CD_METRICA`),
  UNIQUE INDEX `NB_METRICA_UNIQUE` (`NB_METRICA` ASC),
  INDEX `R0610601_idx` (`CD_TP_METRICA` ASC),
  CONSTRAINT `R0610601`
    FOREIGN KEY (`CD_TP_METRICA`)
    REFERENCES `GESTION_FACTORIA`.`THGE060_TP_METRICA` (`CD_TP_METRICA`)
    ON DELETE NO ACTION
    ON UPDATE NO ACTION)
ENGINE = InnoDB;


-- -----------------------------------------------------
-- Table `GESTION_FACTORIA`.`THGE059_H_C_MANDO`
-- -----------------------------------------------------
DROP TABLE IF EXISTS `GESTION_FACTORIA`.`THGE059_H_C_MANDO` ;

CREATE TABLE IF NOT EXISTS `GESTION_FACTORIA`.`THGE059_H_C_MANDO` (
  `FH_INICIO` DATE NOT NULL,
  `FH_FIN` DATE NOT NULL,
  `HM_MIL` DOUBLE NOT NULL,
  `TO_PUNT_ACT` FLOAT NOT NULL,
  `TO_PUNT_METRICA` FLOAT NULL,
  `CD_EMPRESA` INT(4) NOT NULL,
  `CD_TECNOLOGIA` INT(4) NOT NULL,
  `CD_METRICA` INT(4) NOT NULL,
  PRIMARY KEY (`FH_INICIO`, `FH_FIN`),
  INDEX `R0590022_idx` (`CD_TECNOLOGIA` ASC),
  INDEX `R0590613_idx` (`CD_METRICA` ASC),
  CONSTRAINT `R0590031`
    FOREIGN KEY (`CD_EMPRESA`)
    REFERENCES `GESTION_FACTORIA`.`THGE003_EMPRESA` (`CD_EMPRESA`)
    ON DELETE NO ACTION
    ON UPDATE NO ACTION,
  CONSTRAINT `R0590022`
    FOREIGN KEY (`CD_TECNOLOGIA`)
    REFERENCES `GESTION_FACTORIA`.`THGE002_TECNOLOGIA` (`CD_TECNOLOGIA`)
    ON DELETE NO ACTION
    ON UPDATE NO ACTION,
  CONSTRAINT `R0590613`
    FOREIGN KEY (`CD_METRICA`)
    REFERENCES `GESTION_FACTORIA`.`THGE061_METRICA` (`CD_METRICA`)
    ON DELETE NO ACTION
    ON UPDATE NO ACTION)
ENGINE = InnoDB;


-- -----------------------------------------------------
-- Table `GESTION_FACTORIA`.`THGE063_SEG_REQ`
-- -----------------------------------------------------
DROP TABLE IF EXISTS `GESTION_FACTORIA`.`THGE063_SEG_REQ` ;

CREATE TABLE IF NOT EXISTS `GESTION_FACTORIA`.`THGE063_SEG_REQ` (
  `CD_SEG_REQ` INT(12) NOT NULL AUTO_INCREMENT,
  `TM_SEG_REQ` TIMESTAMP(0) NOT NULL DEFAULT CURRENT_TIMESTAMP,
  `NB_DEPENDENCIA` VARCHAR(500) NULL,
  `NB_OBSERVACION` VARCHAR(500) NULL,
  `CD_REQUERIMIENTO` INT(12) NOT NULL,
  `ST_SEG_REQ` INT(4) NOT NULL,
  PRIMARY KEY (`CD_SEG_REQ`),
  INDEX `R0630171_idx` (`CD_REQUERIMIENTO` ASC),
  INDEX `R0630052_idx` (`ST_SEG_REQ` ASC),
  CONSTRAINT `R0630171`
    FOREIGN KEY (`CD_REQUERIMIENTO`)
    REFERENCES `GESTION_FACTORIA`.`THGE017_REQUERIM` (`CD_REQUERIMIENTO`)
    ON DELETE NO ACTION
    ON UPDATE NO ACTION,
  CONSTRAINT `R0630052`
    FOREIGN KEY (`ST_SEG_REQ`)
    REFERENCES `GESTION_FACTORIA`.`THGE005_ESTADO` (`CD_ESTADO`)
    ON DELETE NO ACTION
    ON UPDATE NO ACTION)
ENGINE = InnoDB;


-- -----------------------------------------------------
-- Table `GESTION_FACTORIA`.`THGE065_NB_PROY_AG`
-- -----------------------------------------------------
DROP TABLE IF EXISTS `GESTION_FACTORIA`.`THGE065_NB_PROY_AG` ;

CREATE TABLE IF NOT EXISTS `GESTION_FACTORIA`.`THGE065_NB_PROY_AG` (
  `CD_PROY_AGRUP` INT(4) NOT NULL AUTO_INCREMENT,
  `NB_PROY_AGRUP` VARCHAR(50) NOT NULL,
  PRIMARY KEY (`CD_PROY_AGRUP`),
  UNIQUE INDEX `NB_PROY_AGRUP_UNIQUE` (`NB_PROY_AGRUP` ASC))
ENGINE = InnoDB;


-- -----------------------------------------------------
-- Table `GESTION_FACTORIA`.`THGE070_TP_FH`
-- -----------------------------------------------------
DROP TABLE IF EXISTS `GESTION_FACTORIA`.`THGE070_TP_FH` ;

CREATE TABLE IF NOT EXISTS `GESTION_FACTORIA`.`THGE070_TP_FH` (
  `CD_TP_FH` INT(9) NOT NULL AUTO_INCREMENT,
  `TP_FH` VARCHAR(50) NOT NULL,
  PRIMARY KEY (`CD_TP_FH`),
  UNIQUE INDEX `TP_FH_UNIQUE` (`TP_FH` ASC))
ENGINE = InnoDB;


-- -----------------------------------------------------
-- Table `GESTION_FACTORIA`.`THGE068_LOG_FH_COM`
-- -----------------------------------------------------
DROP TABLE IF EXISTS `GESTION_FACTORIA`.`THGE068_LOG_FH_COM` ;

CREATE TABLE IF NOT EXISTS `GESTION_FACTORIA`.`THGE068_LOG_FH_COM` (
  `CD_CAMBIO` INT(12) NOT NULL AUTO_INCREMENT,
  `CD_COMPONENTE` INT(12) NULL,
  `CD_TP_FH` INT(9) NULL,
  `TM_FH_MODIFICADA` TIMESTAMP(0) NULL,
  `FH_ANTERIOR` DATE NOT NULL,
  `FH_ACTUAL` DATE NOT NULL,
  PRIMARY KEY (`CD_CAMBIO`),
  INDEX `R0680702_idx` (`CD_TP_FH` ASC),
  CONSTRAINT `R0680702`
    FOREIGN KEY (`CD_TP_FH`)
    REFERENCES `GESTION_FACTORIA`.`THGE070_TP_FH` (`CD_TP_FH`)
    ON DELETE NO ACTION
    ON UPDATE NO ACTION)
ENGINE = InnoDB;


-- -----------------------------------------------------
-- Table `GESTION_FACTORIA`.`THGE071_CTRL_PROY`
-- -----------------------------------------------------
DROP TABLE IF EXISTS `GESTION_FACTORIA`.`THGE071_CTRL_PROY` ;

CREATE TABLE IF NOT EXISTS `GESTION_FACTORIA`.`THGE071_CTRL_PROY` (
  `CD_CTRL_PROY` INT(12) NOT NULL AUTO_INCREMENT,
  `CD_EXTERNO` VARCHAR(10) NULL,
  `CD_REQUERIMIENTO` INT(12) NULL,
  PRIMARY KEY (`CD_CTRL_PROY`),
  INDEX `R0710172_idx` (`CD_REQUERIMIENTO` ASC),
  INDEX `R0710241_idx` (`CD_EXTERNO` ASC),
  CONSTRAINT `R0710172`
    FOREIGN KEY (`CD_REQUERIMIENTO`)
    REFERENCES `GESTION_FACTORIA`.`THGE017_REQUERIM` (`CD_REQUERIMIENTO`)
    ON DELETE NO ACTION
    ON UPDATE NO ACTION,
  CONSTRAINT `R0710241`
    FOREIGN KEY (`CD_EXTERNO`)
    REFERENCES `GESTION_FACTORIA`.`THGE024_CTRL_EXT` (`CD_EXTERNO_CORP`)
    ON DELETE NO ACTION
    ON UPDATE NO ACTION)
ENGINE = InnoDB;


SET SQL_MODE=@OLD_SQL_MODE;
SET FOREIGN_KEY_CHECKS=@OLD_FOREIGN_KEY_CHECKS;
SET UNIQUE_CHECKS=@OLD_UNIQUE_CHECKS;
